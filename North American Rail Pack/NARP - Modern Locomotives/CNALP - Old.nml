grf{
    grfid: "ZM\11\01";
    name: string(STR_GRF_NAME);
    desc: string(STR_GRF_DESCRIPTION);
    version: 2;
    min_compatible_version: 1;
//Purchase Cost Parameter
    param {
        param_purchase_cost {
            type: int;
            name: string(STR_PARAM_PURCHASE_COST);
            desc: string(STR_PARAM_PURCHASE_COST_DESC);
            min_value: 0;
            max_value: 8;
            def_value: 4;
            names: {
                        0: string(STR_PARAM_DIVIDE_16);
                        1: string(STR_PARAM_DIVIDE_8);
                        2: string(STR_PARAM_DIVIDE_4);
                        3: string(STR_PARAM_DIVIDE_2);
                        4: string(STR_PARAM_NORMAL);
                        5: string(STR_PARAM_TIMES_2);
                        6: string(STR_PARAM_TIMES_4);
                        7: string(STR_PARAM_TIMES_8);
                        8: string(STR_PARAM_TIMES_16);
            };
        }
    }
//Running Cost Parameter
     param {
        param_running_cost {
            type: int;
            name: string(STR_PARAM_RUNNING_COST);
            desc: string(STR_PARAM_RUNNING_COST_DESC);
            min_value: 0;
            max_value: 8;
            def_value: 4;
            names: {
                        0: string(STR_PARAM_DIVIDE_16);
                        1: string(STR_PARAM_DIVIDE_8);
                        2: string(STR_PARAM_DIVIDE_4);
                        3: string(STR_PARAM_DIVIDE_2);
                        4: string(STR_PARAM_NORMAL);
                        5: string(STR_PARAM_TIMES_2);
                        6: string(STR_PARAM_TIMES_4);
                        7: string(STR_PARAM_TIMES_8);
                        8: string(STR_PARAM_TIMES_16);
            };
        }
    }
	}

railtypetable {
    "RAIL", SAA3: [ MTRO, SBA3, SCA3, SDA3, "3RDR", "3RDC", MTRO, ELRL], "ELRL", MONO
}

//Basecost Paramater Variables
basecost {
 PR_BUILD_VEHICLE_TRAIN: 1 + param_purchase_cost - 4;
 PR_RUNNING_TRAIN_ELECTRIC: 3 + param_running_cost - 4;
 PR_RUNNING_TRAIN_DIESEL: 3 + param_running_cost - 4;
}

// Fix depot view
traininfo_y_offset = 2;
train_width_32_px = 1;


// Purchase Sprite
template template_purchase(x, y) {
    //[left_x, upper_y, width, height, offset_x, offset_y]
    [x-2 , y,  1,  1,   0,  0, ANIM]
    [x-2 , y,  1,  1,   0,  0, ANIM]
    [x-2 , y,  1,  1,   0,  0, ANIM]
    [x-2 , y,  1,  1,   0,  0, ANIM]
    [x-2 , y,  1,  1,   0,  0, ANIM]
    [x-2 , y,  1,  1,   0,  0, ANIM]
    [x     , y, 88, 15, -60, -11, ANIM]
    [x-2 , y,  1,  1,   0,  0, ANIM]
}


// 4 Template
template template_4(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x,        y,        8,        24,        -3,            -19]
    [ x+9,      y,        22,        20,        -8,        -15]
    [ x+32,     y,        33,        16,        0,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]

    [ x+89,     y,        8,        24,        -3,            -13]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -12,        -15]
}

template template_4_r(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x+89,     y,        8,        24,        -3,            -20]
    [ x+98,     y,        22,        20,        -8,        -15]
    [ x+121,    y,        33,        16,        0,        -12]
    [ x+155,    y,        22,        20,        -4,            -11]
    
    [ x,        y,        8,        24,        -3,            -13]
    [ x+9,      y,        22,        20,        -16,        -11]
    [ x+32,     y,        33,        16,        -16,        -12]
    [ x+66,     y,        22,        20,        -12,        -15]
}

// 5 Template
template template_5(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x,        y,        8,        24,        -3,            -19]
    [ x+9,      y,        22,        20,        -10,        -14]
    [ x+32,     y,        33,        16,        -4,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]

    [ x+89,     y,        8,        24,        -3,            -13]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -10,        -14]
}

// 6 Template
template template_6(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x,        y,        8,        24,        -3,            -17]
    [ x+9,      y,        22,        20,        -12,        -13]
    [ x+32,     y,        33,        16,        -8,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]

    [ x+89,     y,        8,        24,        -3,            -13]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -8,        -13]
}

template template_6_r(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x+89,     y,        8,        24,        -3,            -13]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -8,        -13]
    
    [ x,        y,        8,        24,        -3,            -17]
    [ x+9,      y,        22,        20,        -12,        -13]
    [ x+32,     y,        33,        16,        -8,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]
}

//7 Template
template template_7(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x,        y,        8,        24,        -3,            -15]
    [ x+9,      y,        22,        20,        -14,        -12]
    [ x+32,     y,        33,        16,        -12,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]

    [ x+89,     y,        8,        24,        -3,            -13]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -6,        -12]
}

//7 Template Reversed
template template_7_r(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x+89 , y, 8 , 24,  -3, -15]
    [ x+98 , y, 22, 20, -14, -12]
    [ x+121, y, 33, 16, -12, -12]
    [ x+155, y, 22, 20,  -4, -11]

    [ x    , y, 8 , 24,  -3, -13]
    [ x+9  , y, 22, 20, -16, -11]
    [ x+32 , y, 33, 16, -16, -12]
    [ x+66 , y, 22, 20,  -6, -12]
}

// 8 Template
template template_8(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up
    [ x,        y,        8,        24,        -3,            -12]
    [ x+9,      y,        22,        20,        -16,        -11]
    [ x+32,     y,        33,        16,        -16,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]

    [ x+89,     y,        8,        24,        -3,            -12]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -4,        -11]
}

template template_8_r(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
    //                            more negative to shift left
    //                                            more negative to shift up

    [ x+89,     y,        8,        24,        -3,            -12]
    [ x+98,     y,        22,        20,        -16,        -11]
    [ x+121,    y,        33,        16,        -16,        -12]
    [ x+155,    y,        22,        20,        -4,        -11]

    [ x,        y,        8,        24,        -3,            -12]
    [ x+9,      y,        22,        20,        -16,        -11]
    [ x+32,     y,        33,        16,        -16,        -12]
    [ x+66,     y,        22,        20,        -4,            -11]
}

//EMD_E7
spriteset(spriteset_EMD_E7_Purchase,   "gfx/EMD_LateEUnits.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_A,   "gfx/EMD_LateEUnits.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_B,   "gfx/EMD_LateEUnits.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_A; // <- not flipped
 1: spriteset_EMD_E7_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_B; // <- not flipped
 1: spriteset_EMD_E7_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_rear_flipcheck;
  spriteset_EMD_E7_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_lead_flipcheck;
  switch_EMD_E7_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7, 600) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

//        variant_group: Item_EMD_E7;
//        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_graphics;
        purchase: spriteset_EMD_E7_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E7_AmtrakPHI
spriteset(spriteset_EMD_E7_AmtrakPHI_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHI.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_AmtrakPHI_A,   "gfx/EMD_LateEUnits_AmtrakPHI.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_AmtrakPHI_B,   "gfx/EMD_LateEUnits_AmtrakPHI.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHI_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHI_A; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHI_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHI_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHI_B; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHI_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHI_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_AmtrakPHI_rear_flipcheck;
  spriteset_EMD_E7_AmtrakPHI_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHI_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_AmtrakPHI_lead_flipcheck;
  switch_EMD_E7_AmtrakPHI_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7_AmtrakPHI, 611) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E7;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_AmtrakPHI_graphics;
        purchase: spriteset_EMD_E7_AmtrakPHI_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E7_AmtrakPHII
spriteset(spriteset_EMD_E7_AmtrakPHII_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHII.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_AmtrakPHII_A,   "gfx/EMD_LateEUnits_AmtrakPHII.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_AmtrakPHII_B,   "gfx/EMD_LateEUnits_AmtrakPHII.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHII_A; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHII_B; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_AmtrakPHII_rear_flipcheck;
  spriteset_EMD_E7_AmtrakPHII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHII_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_AmtrakPHII_lead_flipcheck;
  switch_EMD_E7_AmtrakPHII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7_AmtrakPHII, 612) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E7_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_AmtrakPHII_graphics;
        purchase: spriteset_EMD_E7_AmtrakPHII_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E7_AmtrakPHIII
spriteset(spriteset_EMD_E7_AmtrakPHIII_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHIII.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_AmtrakPHIII_A,   "gfx/EMD_LateEUnits_AmtrakPHIII.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_AmtrakPHIII_B,   "gfx/EMD_LateEUnits_AmtrakPHIII.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHIII_A; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHIII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHIII_B; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHIII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_AmtrakPHIII_rear_flipcheck;
  spriteset_EMD_E7_AmtrakPHIII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIII_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_AmtrakPHIII_lead_flipcheck;
  switch_EMD_E7_AmtrakPHIII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7_AmtrakPHIII, 613) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E7_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_AmtrakPHIII_graphics;
        purchase: spriteset_EMD_E7_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E7_AmtrakPHIV
spriteset(spriteset_EMD_E7_AmtrakPHIV_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHIV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_AmtrakPHIV_A,   "gfx/EMD_LateEUnits_AmtrakPHIV.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_AmtrakPHIV_B,   "gfx/EMD_LateEUnits_AmtrakPHIV.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHIV_A; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHIV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHIV_B; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHIV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_AmtrakPHIV_rear_flipcheck;
  spriteset_EMD_E7_AmtrakPHIV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHIV_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_AmtrakPHIV_lead_flipcheck;
  switch_EMD_E7_AmtrakPHIV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7_AmtrakPHIV, 614) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E7_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_AmtrakPHIV_graphics;
        purchase: spriteset_EMD_E7_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E7_AmtrakPHV
spriteset(spriteset_EMD_E7_AmtrakPHV_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_AmtrakPHV_A,   "gfx/EMD_LateEUnits_AmtrakPHV.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_AmtrakPHV_B,   "gfx/EMD_LateEUnits_AmtrakPHV.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHV_A; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_AmtrakPHV_B; // <- not flipped
 1: spriteset_EMD_E7_AmtrakPHV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_AmtrakPHV_rear_flipcheck;
  spriteset_EMD_E7_AmtrakPHV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_AmtrakPHV_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_AmtrakPHV_lead_flipcheck;
  switch_EMD_E7_AmtrakPHV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7_AmtrakPHV, 615) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E7_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_AmtrakPHV_graphics;
        purchase: spriteset_EMD_E7_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E7_Via70s
spriteset(spriteset_EMD_E7_Via70s_Purchase,   "gfx/EMD_LateEUnits_Via70s.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_E7_Via70s_A,   "gfx/EMD_LateEUnits_Via70s.png") {template_8(7, 39)}
spriteset(spriteset_EMD_E7_Via70s_B,   "gfx/EMD_LateEUnits_Via70s.png") {template_8(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_Via70s_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_Via70s_A; // <- not flipped
 1: spriteset_EMD_E7_Via70s_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_Via70s_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E7_Via70s_B; // <- not flipped
 1: spriteset_EMD_E7_Via70s_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_Via70s_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E7_Via70s_rear_flipcheck;
  spriteset_EMD_E7_Via70s_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E7_Via70s_graphics, position_in_vehid_chain) {
 0: switch_EMD_E7_Via70s_lead_flipcheck;
  switch_EMD_E7_Via70s_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E7_Via70s, 622) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E7);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     13;
        running_cost_factor:             115;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E7_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E7_Via70s_graphics;
        purchase: spriteset_EMD_E7_Via70s_Purchase;
        additional_text: string(STR_INFO_EMD_E7);
}
}

//EMD_E9
spriteset(spriteset_EMD_E9_Purchase,   "gfx/EMD_LateEUnits.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_A,   "gfx/EMD_LateEUnits.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_B,   "gfx/EMD_LateEUnits.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_A; // <- not flipped
 1: spriteset_EMD_E9_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_B; // <- not flipped
 1: spriteset_EMD_E9_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_rear_flipcheck;
  spriteset_EMD_E9_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_lead_flipcheck;
  switch_EMD_E9_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9, 1300) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

//        variant_group: Item_EMD_E9;
//        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_graphics;
        purchase: spriteset_EMD_E9_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_E9_AmtrakPHI
spriteset(spriteset_EMD_E9_AmtrakPHI_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHI.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_AmtrakPHI_A,   "gfx/EMD_LateEUnits_AmtrakPHI.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_AmtrakPHI_B,   "gfx/EMD_LateEUnits_AmtrakPHI.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHI_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHI_A; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHI_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHI_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHI_B; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHI_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHI_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_AmtrakPHI_rear_flipcheck;
  spriteset_EMD_E9_AmtrakPHI_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHI_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_AmtrakPHI_lead_flipcheck;
  switch_EMD_E9_AmtrakPHI_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9_AmtrakPHI, 1311) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_AmtrakPHI_graphics;
        purchase: spriteset_EMD_E9_AmtrakPHI_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_E9_AmtrakPHII
spriteset(spriteset_EMD_E9_AmtrakPHII_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHII.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_AmtrakPHII_A,   "gfx/EMD_LateEUnits_AmtrakPHII.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_AmtrakPHII_B,   "gfx/EMD_LateEUnits_AmtrakPHII.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHII_A; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHII_B; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_AmtrakPHII_rear_flipcheck;
  spriteset_EMD_E9_AmtrakPHII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHII_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_AmtrakPHII_lead_flipcheck;
  switch_EMD_E9_AmtrakPHII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9_AmtrakPHII, 1312) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_AmtrakPHII_graphics;
        purchase: spriteset_EMD_E9_AmtrakPHII_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_E9_AmtrakPHIII
spriteset(spriteset_EMD_E9_AmtrakPHIII_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHIII.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_AmtrakPHIII_A,   "gfx/EMD_LateEUnits_AmtrakPHIII.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_AmtrakPHIII_B,   "gfx/EMD_LateEUnits_AmtrakPHIII.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHIII_A; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHIII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHIII_B; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHIII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_AmtrakPHIII_rear_flipcheck;
  spriteset_EMD_E9_AmtrakPHIII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIII_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_AmtrakPHIII_lead_flipcheck;
  switch_EMD_E9_AmtrakPHIII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9_AmtrakPHIII, 1313) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_AmtrakPHIII_graphics;
        purchase: spriteset_EMD_E9_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_E9_AmtrakPHIV
spriteset(spriteset_EMD_E9_AmtrakPHIV_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHIV.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_AmtrakPHIV_A,   "gfx/EMD_LateEUnits_AmtrakPHIV.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_AmtrakPHIV_B,   "gfx/EMD_LateEUnits_AmtrakPHIV.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHIV_A; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHIV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHIV_B; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHIV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_AmtrakPHIV_rear_flipcheck;
  spriteset_EMD_E9_AmtrakPHIV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHIV_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_AmtrakPHIV_lead_flipcheck;
  switch_EMD_E9_AmtrakPHIV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9_AmtrakPHIV, 1314) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_AmtrakPHIV_graphics;
        purchase: spriteset_EMD_E9_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_E9_AmtrakPHV
spriteset(spriteset_EMD_E9_AmtrakPHV_Purchase,   "gfx/EMD_LateEUnits_AmtrakPHV.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_AmtrakPHV_A,   "gfx/EMD_LateEUnits_AmtrakPHV.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_AmtrakPHV_B,   "gfx/EMD_LateEUnits_AmtrakPHV.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHV_A; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_AmtrakPHV_B; // <- not flipped
 1: spriteset_EMD_E9_AmtrakPHV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_AmtrakPHV_rear_flipcheck;
  spriteset_EMD_E9_AmtrakPHV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_AmtrakPHV_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_AmtrakPHV_lead_flipcheck;
  switch_EMD_E9_AmtrakPHV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9_AmtrakPHV, 1315) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_AmtrakPHV_graphics;
        purchase: spriteset_EMD_E9_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_E9_Via70s
spriteset(spriteset_EMD_E9_Via70s_Purchase,   "gfx/EMD_LateEUnits_Via70s.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_E9_Via70s_A,   "gfx/EMD_LateEUnits_Via70s.png") {template_8(187, 39)}
spriteset(spriteset_EMD_E9_Via70s_B,   "gfx/EMD_LateEUnits_Via70s.png") {template_8(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_Via70s_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_Via70s_A; // <- not flipped
 1: spriteset_EMD_E9_Via70s_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_Via70s_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_E9_Via70s_B; // <- not flipped
 1: spriteset_EMD_E9_Via70s_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_Via70s_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_E9_Via70s_rear_flipcheck;
  spriteset_EMD_E9_Via70s_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_E9_Via70s_graphics, position_in_vehid_chain) {
 0: switch_EMD_E9_Via70s_lead_flipcheck;
  switch_EMD_E9_Via70s_rear_position;
}

item(FEAT_TRAINS, Item_EMD_E9_Via70s, 1322) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_E9);
        introduction_date:                date(1954,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        143 ton;
        speed:                            117 mph;
        power:                            2400 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     22;
        running_cost_factor:             165;
        cargo_capacity:                  0;

        variant_group: Item_EMD_E9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_E9_Via70s_graphics;
        purchase: spriteset_EMD_E9_Via70s_Purchase;
        additional_text: string(STR_INFO_EMD_E9);
}
}

//EMD_SDP40F
spriteset(spriteset_EMD_SDP40F_Purchase,   "gfx/EMD_SDP40F.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F,   "gfx/EMD_SDP40F.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_r,   "gfx/EMD_SDP40F.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_r;
  spriteset_EMD_SDP40F;
}

item(FEAT_TRAINS, Item_EMD_SDP40F, 2100) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

     //   variant_group: Item_EMD_SDP40F;
     //   extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_position;
        purchase: spriteset_EMD_SDP40F_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_AmtrakPHI
spriteset(spriteset_EMD_SDP40F_AmtrakPHI_Purchase,   "gfx/EMD_SDP40F_AmtrakPHI.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_AmtrakPHI,   "gfx/EMD_SDP40F_AmtrakPHI.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_AmtrakPHI_r,   "gfx/EMD_SDP40F_AmtrakPHI.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_AmtrakPHI_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_AmtrakPHI_r;
  spriteset_EMD_SDP40F_AmtrakPHI;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_AmtrakPHI, 2111) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_AmtrakPHI_position;
        purchase: spriteset_EMD_SDP40F_AmtrakPHI_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_AmtrakPHII
spriteset(spriteset_EMD_SDP40F_AmtrakPHII_Purchase,   "gfx/EMD_SDP40F_AmtrakPHII.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_AmtrakPHII,   "gfx/EMD_SDP40F_AmtrakPHII.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_AmtrakPHII_r,   "gfx/EMD_SDP40F_AmtrakPHII.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_AmtrakPHII_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_AmtrakPHII_r;
  spriteset_EMD_SDP40F_AmtrakPHII;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_AmtrakPHII, 2112) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_AmtrakPHII_position;
        purchase: spriteset_EMD_SDP40F_AmtrakPHII_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_AmtrakPHIII
spriteset(spriteset_EMD_SDP40F_AmtrakPHIII_Purchase,   "gfx/EMD_SDP40F_AmtrakPHIII.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_AmtrakPHIII,   "gfx/EMD_SDP40F_AmtrakPHIII.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_AmtrakPHIII_r,   "gfx/EMD_SDP40F_AmtrakPHIII.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_AmtrakPHIII_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_AmtrakPHIII_r;
  spriteset_EMD_SDP40F_AmtrakPHIII;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_AmtrakPHIII, 2113) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_AmtrakPHIII_position;
        purchase: spriteset_EMD_SDP40F_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_AmtrakPHIV
spriteset(spriteset_EMD_SDP40F_AmtrakPHIV_Purchase,   "gfx/EMD_SDP40F_AmtrakPHIV.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_AmtrakPHIV,   "gfx/EMD_SDP40F_AmtrakPHIV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_AmtrakPHIV_r,   "gfx/EMD_SDP40F_AmtrakPHIV.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_AmtrakPHIV_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_AmtrakPHIV_r;
  spriteset_EMD_SDP40F_AmtrakPHIV;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_AmtrakPHIV, 2114) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_AmtrakPHIV_position;
        purchase: spriteset_EMD_SDP40F_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_AmtrakPHV
spriteset(spriteset_EMD_SDP40F_AmtrakPHV_Purchase,   "gfx/EMD_SDP40F_AmtrakPHV.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_AmtrakPHV,   "gfx/EMD_SDP40F_AmtrakPHV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_AmtrakPHV_r,   "gfx/EMD_SDP40F_AmtrakPHV.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_AmtrakPHV_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_AmtrakPHV_r;
  spriteset_EMD_SDP40F_AmtrakPHV;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_AmtrakPHV, 2115) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_AmtrakPHV_position;
        purchase: spriteset_EMD_SDP40F_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_Via70s
spriteset(spriteset_EMD_SDP40F_Via70s_Purchase,   "gfx/EMD_SDP40F_Via70s.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_Via70s,   "gfx/EMD_SDP40F_Via70s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_Via70s_r,   "gfx/EMD_SDP40F_Via70s.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_Via70s_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_Via70s_r;
  spriteset_EMD_SDP40F_Via70s;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_Via70s, 2122) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_Via70s_position;
        purchase: spriteset_EMD_SDP40F_Via70s_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_Via80s
spriteset(spriteset_EMD_SDP40F_Via80s_Purchase,   "gfx/EMD_SDP40F_Via80s.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_Via80s,   "gfx/EMD_SDP40F_Via80s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_Via80s_r,   "gfx/EMD_SDP40F_Via80s.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_Via80s_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_Via80s_r;
  spriteset_EMD_SDP40F_Via80s;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_Via80s, 2123) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_Via80s_position;
        purchase: spriteset_EMD_SDP40F_Via80s_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SDP40F_Via2000s
spriteset(spriteset_EMD_SDP40F_Via2000s_Purchase,   "gfx/EMD_SDP40F_Via2000s.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDP40F_Via2000s,   "gfx/EMD_SDP40F_Via2000s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDP40F_Via2000s_r,   "gfx/EMD_SDP40F_Via2000s.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SDP40F_Via2000s_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SDP40F_Via2000s_r;
  spriteset_EMD_SDP40F_Via2000s;
}

item(FEAT_TRAINS, Item_EMD_SDP40F_Via2000s, 2124) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDP40F);
        introduction_date:                date(1973,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SDP40F_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDP40F_Via2000s_position;
        purchase: spriteset_EMD_SDP40F_Via2000s_Purchase;
        additional_text: string(STR_INFO_EMD_SDP40F);
}
}

//EMD_SD40
spriteset(spriteset_EMD_SD40_Purchase,   "gfx/EMD_SD40.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40,   "gfx/EMD_SD40.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_r,   "gfx/EMD_SD40.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_r;
  spriteset_EMD_SD40;
}

item(FEAT_TRAINS, Item_EMD_SD40, 13999) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                NO_CLIMATE;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

//        variant_group: Item_EMD_SD40;
//       extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_position;
        purchase: spriteset_EMD_SD40_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose
spriteset(spriteset_EMD_SD40_LowNose_Purchase,   "gfx/EMD_SD40.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose,   "gfx/EMD_SD40.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_r,   "gfx/EMD_SD40.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_r;
  spriteset_EMD_SD40_LowNose;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose, 13700) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_position;
        purchase: spriteset_EMD_SD40_LowNose_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_Basic
spriteset(spriteset_EMD_SD40_LowNose_Basic_Purchase,   "gfx/EMD_SD40_Basic.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_Basic,   "gfx/EMD_SD40_Basic.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_Basic_r,   "gfx/EMD_SD40_Basic.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_Basic_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_Basic_r;
  spriteset_EMD_SD40_LowNose_Basic;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_Basic, 13711) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_Basic_position;
        purchase: spriteset_EMD_SD40_LowNose_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_Wings
spriteset(spriteset_EMD_SD40_LowNose_Wings_Purchase,   "gfx/EMD_SD40_Wings.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_Wings,   "gfx/EMD_SD40_Wings.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_Wings_r,   "gfx/EMD_SD40_Wings.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_Wings_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_Wings_r;
  spriteset_EMD_SD40_LowNose_Wings;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_Wings, 13712) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_Wings_position;
        purchase: spriteset_EMD_SD40_LowNose_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_Stripe
spriteset(spriteset_EMD_SD40_LowNose_Stripe_Purchase,   "gfx/EMD_SD40_Stripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_Stripe,   "gfx/EMD_SD40_Stripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_Stripe_r,   "gfx/EMD_SD40_Stripe.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_Stripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_Stripe_r;
  spriteset_EMD_SD40_LowNose_Stripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_Stripe, 13713) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_Stripe_position;
        purchase: spriteset_EMD_SD40_LowNose_Stripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_HazardNoses
spriteset(spriteset_EMD_SD40_LowNose_HazardNoses_Purchase,   "gfx/EMD_SD40_HazardNoses.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_HazardNoses,   "gfx/EMD_SD40_HazardNoses.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_HazardNoses_r,   "gfx/EMD_SD40_HazardNoses.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_HazardNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_HazardNoses_r;
  spriteset_EMD_SD40_LowNose_HazardNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_HazardNoses, 13714) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_HazardNoses_position;
        purchase: spriteset_EMD_SD40_LowNose_HazardNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_HazardandBlack
spriteset(spriteset_EMD_SD40_LowNose_HazardandBlack_Purchase,   "gfx/EMD_SD40_HazardandBlack.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_HazardandBlack,   "gfx/EMD_SD40_HazardandBlack.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_HazardandBlack_r,   "gfx/EMD_SD40_HazardandBlack.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_HazardandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_HazardandBlack_r;
  spriteset_EMD_SD40_LowNose_HazardandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_HazardandBlack, 13715) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_HazardandBlack_position;
        purchase: spriteset_EMD_SD40_LowNose_HazardandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_ColouredCaps
spriteset(spriteset_EMD_SD40_LowNose_ColouredCaps_Purchase,   "gfx/EMD_SD40_ColouredCaps.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_ColouredCaps,   "gfx/EMD_SD40_ColouredCaps.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_ColouredCaps_r,   "gfx/EMD_SD40_ColouredCaps.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_ColouredCaps_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_ColouredCaps_r;
  spriteset_EMD_SD40_LowNose_ColouredCaps;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_ColouredCaps, 13716) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_ColouredCaps_position;
        purchase: spriteset_EMD_SD40_LowNose_ColouredCaps_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_ColouredNoses
spriteset(spriteset_EMD_SD40_LowNose_ColouredNoses_Purchase,   "gfx/EMD_SD40_ColouredNoses.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_ColouredNoses,   "gfx/EMD_SD40_ColouredNoses.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_ColouredNoses_r,   "gfx/EMD_SD40_ColouredNoses.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_ColouredNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_ColouredNoses_r;
  spriteset_EMD_SD40_LowNose_ColouredNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_ColouredNoses, 13717) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_ColouredNoses_position;
        purchase: spriteset_EMD_SD40_LowNose_ColouredNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_TwoTone
spriteset(spriteset_EMD_SD40_LowNose_TwoTone_Purchase,   "gfx/EMD_SD40_TwoTone.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_TwoTone,   "gfx/EMD_SD40_TwoTone.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_TwoTone_r,   "gfx/EMD_SD40_TwoTone.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_TwoTone_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_TwoTone_r;
  spriteset_EMD_SD40_LowNose_TwoTone;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_TwoTone, 13718) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_TwoTone_position;
        purchase: spriteset_EMD_SD40_LowNose_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_TwoToneandCab
spriteset(spriteset_EMD_SD40_LowNose_TwoToneandCab_Purchase,   "gfx/EMD_SD40_TwoToneandCab.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_TwoToneandCab,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_TwoToneandCab_r,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_TwoToneandCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_TwoToneandCab_r;
  spriteset_EMD_SD40_LowNose_TwoToneandCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_TwoToneandCab, 13719) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_TwoToneandCab_position;
        purchase: spriteset_EMD_SD40_LowNose_TwoToneandCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_BigSkyBlue
spriteset(spriteset_EMD_SD40_LowNose_BigSkyBlue_Purchase,   "gfx/EMD_SD40_BigSkyBlue.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_BigSkyBlue,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_BigSkyBlue_r,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_BigSkyBlue_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_BigSkyBlue_r;
  spriteset_EMD_SD40_LowNose_BigSkyBlue;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_BigSkyBlue, 13720) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_BigSkyBlue_position;
        purchase: spriteset_EMD_SD40_LowNose_BigSkyBlue_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_ColouredCab
spriteset(spriteset_EMD_SD40_LowNose_ColouredCab_Purchase,   "gfx/EMD_SD40_ColouredCab.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_ColouredCab,   "gfx/EMD_SD40_ColouredCab.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_ColouredCab_r,   "gfx/EMD_SD40_ColouredCab.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_ColouredCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_ColouredCab_r;
  spriteset_EMD_SD40_LowNose_ColouredCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_ColouredCab, 13721) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_ColouredCab_position;
        purchase: spriteset_EMD_SD40_LowNose_ColouredCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_TwoToneBodyStripe
spriteset(spriteset_EMD_SD40_LowNose_TwoToneBodyStripe_Purchase,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_TwoToneBodyStripe,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_TwoToneBodyStripe_r,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_TwoToneBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_TwoToneBodyStripe_r;
  spriteset_EMD_SD40_LowNose_TwoToneBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_TwoToneBodyStripe, 13722) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_TwoToneBodyStripe_position;
        purchase: spriteset_EMD_SD40_LowNose_TwoToneBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_LowBodyStripe
spriteset(spriteset_EMD_SD40_LowNose_LowBodyStripe_Purchase,   "gfx/EMD_SD40_LowBodyStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_LowBodyStripe,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_LowBodyStripe_r,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_LowBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_LowBodyStripe_r;
  spriteset_EMD_SD40_LowNose_LowBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_LowBodyStripe, 13723) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_LowBodyStripe_position;
        purchase: spriteset_EMD_SD40_LowNose_LowBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_BodyStripeandBlack
spriteset(spriteset_EMD_SD40_LowNose_BodyStripeandBlack_Purchase,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_BodyStripeandBlack,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_BodyStripeandBlack_r,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_BodyStripeandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_BodyStripeandBlack_r;
  spriteset_EMD_SD40_LowNose_BodyStripeandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_BodyStripeandBlack, 13724) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_BodyStripeandBlack_position;
        purchase: spriteset_EMD_SD40_LowNose_BodyStripeandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_Warbonnet
spriteset(spriteset_EMD_SD40_LowNose_Warbonnet_Purchase,   "gfx/EMD_SD40_Warbonnet.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_Warbonnet,   "gfx/EMD_SD40_Warbonnet.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_Warbonnet_r,   "gfx/EMD_SD40_Warbonnet.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_Warbonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_Warbonnet_r;
  spriteset_EMD_SD40_LowNose_Warbonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_Warbonnet, 13725) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_Warbonnet_position;
        purchase: spriteset_EMD_SD40_LowNose_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_Bonnet
spriteset(spriteset_EMD_SD40_LowNose_Bonnet_Purchase,   "gfx/EMD_SD40_Bonnet.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_Bonnet,   "gfx/EMD_SD40_Bonnet.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_Bonnet_r,   "gfx/EMD_SD40_Bonnet.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_Bonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_Bonnet_r;
  spriteset_EMD_SD40_LowNose_Bonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_Bonnet, 13726) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_Bonnet_position;
        purchase: spriteset_EMD_SD40_LowNose_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_LowNose_GrayandStripe
spriteset(spriteset_EMD_SD40_LowNose_GrayandStripe_Purchase,   "gfx/EMD_SD40_GrayandStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SD40_LowNose_GrayandStripe,   "gfx/EMD_SD40_GrayandStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_LowNose_GrayandStripe_r,   "gfx/EMD_SD40_GrayandStripe.png") {template_8_r(7, 39)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_LowNose_GrayandStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_LowNose_GrayandStripe_r;
  spriteset_EMD_SD40_LowNose_GrayandStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_LowNose_GrayandStripe, 13727) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_LowNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_LowNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_LowNose_GrayandStripe_position;
        purchase: spriteset_EMD_SD40_LowNose_GrayandStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose
spriteset(spriteset_EMD_SD40_HighNose_Purchase,   "gfx/EMD_SD40.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose,   "gfx/EMD_SD40.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_r,   "gfx/EMD_SD40.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_r;
  spriteset_EMD_SD40_HighNose;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose, 13750) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_position;
        purchase: spriteset_EMD_SD40_HighNose_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_Basic
spriteset(spriteset_EMD_SD40_HighNose_Basic_Purchase,   "gfx/EMD_SD40_Basic.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_Basic,   "gfx/EMD_SD40_Basic.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_Basic_r,   "gfx/EMD_SD40_Basic.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_Basic_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_Basic_r;
  spriteset_EMD_SD40_HighNose_Basic;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_Basic, 13761) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_Basic_position;
        purchase: spriteset_EMD_SD40_HighNose_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_Wings
spriteset(spriteset_EMD_SD40_HighNose_Wings_Purchase,   "gfx/EMD_SD40_Wings.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_Wings,   "gfx/EMD_SD40_Wings.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_Wings_r,   "gfx/EMD_SD40_Wings.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_Wings_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_Wings_r;
  spriteset_EMD_SD40_HighNose_Wings;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_Wings, 13762) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_Wings_position;
        purchase: spriteset_EMD_SD40_HighNose_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_Stripe
spriteset(spriteset_EMD_SD40_HighNose_Stripe_Purchase,   "gfx/EMD_SD40_Stripe.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_Stripe,   "gfx/EMD_SD40_Stripe.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_Stripe_r,   "gfx/EMD_SD40_Stripe.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_Stripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_Stripe_r;
  spriteset_EMD_SD40_HighNose_Stripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_Stripe, 13763) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_Stripe_position;
        purchase: spriteset_EMD_SD40_HighNose_Stripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_HazardNoses
spriteset(spriteset_EMD_SD40_HighNose_HazardNoses_Purchase,   "gfx/EMD_SD40_HazardNoses.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_HazardNoses,   "gfx/EMD_SD40_HazardNoses.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_HazardNoses_r,   "gfx/EMD_SD40_HazardNoses.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_HazardNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_HazardNoses_r;
  spriteset_EMD_SD40_HighNose_HazardNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_HazardNoses, 13764) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_HazardNoses_position;
        purchase: spriteset_EMD_SD40_HighNose_HazardNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_HazardandBlack
spriteset(spriteset_EMD_SD40_HighNose_HazardandBlack_Purchase,   "gfx/EMD_SD40_HazardandBlack.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_HazardandBlack,   "gfx/EMD_SD40_HazardandBlack.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_HazardandBlack_r,   "gfx/EMD_SD40_HazardandBlack.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_HazardandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_HazardandBlack_r;
  spriteset_EMD_SD40_HighNose_HazardandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_HazardandBlack, 13765) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_HazardandBlack_position;
        purchase: spriteset_EMD_SD40_HighNose_HazardandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_ColouredCaps
spriteset(spriteset_EMD_SD40_HighNose_ColouredCaps_Purchase,   "gfx/EMD_SD40_ColouredCaps.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_ColouredCaps,   "gfx/EMD_SD40_ColouredCaps.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_ColouredCaps_r,   "gfx/EMD_SD40_ColouredCaps.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_ColouredCaps_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_ColouredCaps_r;
  spriteset_EMD_SD40_HighNose_ColouredCaps;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_ColouredCaps, 13766) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_ColouredCaps_position;
        purchase: spriteset_EMD_SD40_HighNose_ColouredCaps_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_ColouredNoses
spriteset(spriteset_EMD_SD40_HighNose_ColouredNoses_Purchase,   "gfx/EMD_SD40_ColouredNoses.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_ColouredNoses,   "gfx/EMD_SD40_ColouredNoses.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_ColouredNoses_r,   "gfx/EMD_SD40_ColouredNoses.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_ColouredNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_ColouredNoses_r;
  spriteset_EMD_SD40_HighNose_ColouredNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_ColouredNoses, 13767) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_ColouredNoses_position;
        purchase: spriteset_EMD_SD40_HighNose_ColouredNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_TwoTone
spriteset(spriteset_EMD_SD40_HighNose_TwoTone_Purchase,   "gfx/EMD_SD40_TwoTone.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_TwoTone,   "gfx/EMD_SD40_TwoTone.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_TwoTone_r,   "gfx/EMD_SD40_TwoTone.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_TwoTone_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_TwoTone_r;
  spriteset_EMD_SD40_HighNose_TwoTone;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_TwoTone, 13768) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_TwoTone_position;
        purchase: spriteset_EMD_SD40_HighNose_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_TwoToneandCab
spriteset(spriteset_EMD_SD40_HighNose_TwoToneandCab_Purchase,   "gfx/EMD_SD40_TwoToneandCab.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_TwoToneandCab,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_TwoToneandCab_r,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_TwoToneandCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_TwoToneandCab_r;
  spriteset_EMD_SD40_HighNose_TwoToneandCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_TwoToneandCab, 13769) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_TwoToneandCab_position;
        purchase: spriteset_EMD_SD40_HighNose_TwoToneandCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_BigSkyBlue
spriteset(spriteset_EMD_SD40_HighNose_BigSkyBlue_Purchase,   "gfx/EMD_SD40_BigSkyBlue.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_BigSkyBlue,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_BigSkyBlue_r,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_BigSkyBlue_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_BigSkyBlue_r;
  spriteset_EMD_SD40_HighNose_BigSkyBlue;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_BigSkyBlue, 13770) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_BigSkyBlue_position;
        purchase: spriteset_EMD_SD40_HighNose_BigSkyBlue_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_ColouredCab
spriteset(spriteset_EMD_SD40_HighNose_ColouredCab_Purchase,   "gfx/EMD_SD40_ColouredCab.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_ColouredCab,   "gfx/EMD_SD40_ColouredCab.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_ColouredCab_r,   "gfx/EMD_SD40_ColouredCab.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_ColouredCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_ColouredCab_r;
  spriteset_EMD_SD40_HighNose_ColouredCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_ColouredCab, 13771) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_ColouredCab_position;
        purchase: spriteset_EMD_SD40_HighNose_ColouredCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_TwoToneBodyStripe
spriteset(spriteset_EMD_SD40_HighNose_TwoToneBodyStripe_Purchase,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_TwoToneBodyStripe,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_TwoToneBodyStripe_r,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_TwoToneBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_TwoToneBodyStripe_r;
  spriteset_EMD_SD40_HighNose_TwoToneBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_TwoToneBodyStripe, 13772) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_TwoToneBodyStripe_position;
        purchase: spriteset_EMD_SD40_HighNose_TwoToneBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_LowBodyStripe
spriteset(spriteset_EMD_SD40_HighNose_LowBodyStripe_Purchase,   "gfx/EMD_SD40_LowBodyStripe.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_LowBodyStripe,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_LowBodyStripe_r,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_LowBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_LowBodyStripe_r;
  spriteset_EMD_SD40_HighNose_LowBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_LowBodyStripe, 13773) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_LowBodyStripe_position;
        purchase: spriteset_EMD_SD40_HighNose_LowBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_BodyStripeandBlack
spriteset(spriteset_EMD_SD40_HighNose_BodyStripeandBlack_Purchase,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_BodyStripeandBlack,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_BodyStripeandBlack_r,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_BodyStripeandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_BodyStripeandBlack_r;
  spriteset_EMD_SD40_HighNose_BodyStripeandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_BodyStripeandBlack, 13774) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_BodyStripeandBlack_position;
        purchase: spriteset_EMD_SD40_HighNose_BodyStripeandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_Warbonnet
spriteset(spriteset_EMD_SD40_HighNose_Warbonnet_Purchase,   "gfx/EMD_SD40_Warbonnet.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_Warbonnet,   "gfx/EMD_SD40_Warbonnet.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_Warbonnet_r,   "gfx/EMD_SD40_Warbonnet.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_Warbonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_Warbonnet_r;
  spriteset_EMD_SD40_HighNose_Warbonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_Warbonnet, 13775) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_Warbonnet_position;
        purchase: spriteset_EMD_SD40_HighNose_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_Bonnet
spriteset(spriteset_EMD_SD40_HighNose_Bonnet_Purchase,   "gfx/EMD_SD40_Bonnet.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_Bonnet,   "gfx/EMD_SD40_Bonnet.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_Bonnet_r,   "gfx/EMD_SD40_Bonnet.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_Bonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_Bonnet_r;
  spriteset_EMD_SD40_HighNose_Bonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_Bonnet, 13776) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_Bonnet_position;
        purchase: spriteset_EMD_SD40_HighNose_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_HighNose_GrayandStripe
spriteset(spriteset_EMD_SD40_HighNose_GrayandStripe_Purchase,   "gfx/EMD_SD40_GrayandStripe.png") {template_purchase(96, 21)}
spriteset(spriteset_EMD_SD40_HighNose_GrayandStripe,   "gfx/EMD_SD40_GrayandStripe.png") {template_8(7, 64)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_HighNose_GrayandStripe_r,   "gfx/EMD_SD40_GrayandStripe.png") {template_8_r(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_HighNose_GrayandStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_HighNose_GrayandStripe_r;
  spriteset_EMD_SD40_HighNose_GrayandStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_HighNose_GrayandStripe, 13777) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_HighNose);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_HighNose;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_HighNose_GrayandStripe_position;
        purchase: spriteset_EMD_SD40_HighNose_GrayandStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor
spriteset(spriteset_EMD_SD40_TunnelMotor_Purchase,   "gfx/EMD_SD40.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor,   "gfx/EMD_SD40.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_r,   "gfx/EMD_SD40.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_r;
  spriteset_EMD_SD40_TunnelMotor;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor, 13800) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_Basic
spriteset(spriteset_EMD_SD40_TunnelMotor_Basic_Purchase,   "gfx/EMD_SD40_Basic.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_Basic,   "gfx/EMD_SD40_Basic.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_Basic_r,   "gfx/EMD_SD40_Basic.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_Basic_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_Basic_r;
  spriteset_EMD_SD40_TunnelMotor_Basic;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_Basic, 13811) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_Basic_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_Wings
spriteset(spriteset_EMD_SD40_TunnelMotor_Wings_Purchase,   "gfx/EMD_SD40_Wings.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_Wings,   "gfx/EMD_SD40_Wings.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_Wings_r,   "gfx/EMD_SD40_Wings.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_Wings_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_Wings_r;
  spriteset_EMD_SD40_TunnelMotor_Wings;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_Wings, 13812) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_Wings_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_Stripe
spriteset(spriteset_EMD_SD40_TunnelMotor_Stripe_Purchase,   "gfx/EMD_SD40_Stripe.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_Stripe,   "gfx/EMD_SD40_Stripe.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_Stripe_r,   "gfx/EMD_SD40_Stripe.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_Stripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_Stripe_r;
  spriteset_EMD_SD40_TunnelMotor_Stripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_Stripe, 13813) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_Stripe_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_Stripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_HazardNoses
spriteset(spriteset_EMD_SD40_TunnelMotor_HazardNoses_Purchase,   "gfx/EMD_SD40_HazardNoses.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_HazardNoses,   "gfx/EMD_SD40_HazardNoses.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_HazardNoses_r,   "gfx/EMD_SD40_HazardNoses.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_HazardNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_HazardNoses_r;
  spriteset_EMD_SD40_TunnelMotor_HazardNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_HazardNoses, 13814) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_HazardNoses_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_HazardNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_HazardandBlack
spriteset(spriteset_EMD_SD40_TunnelMotor_HazardandBlack_Purchase,   "gfx/EMD_SD40_HazardandBlack.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_HazardandBlack,   "gfx/EMD_SD40_HazardandBlack.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_HazardandBlack_r,   "gfx/EMD_SD40_HazardandBlack.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_HazardandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_HazardandBlack_r;
  spriteset_EMD_SD40_TunnelMotor_HazardandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_HazardandBlack, 13815) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_HazardandBlack_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_HazardandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_ColouredCaps
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredCaps_Purchase,   "gfx/EMD_SD40_ColouredCaps.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredCaps,   "gfx/EMD_SD40_ColouredCaps.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredCaps_r,   "gfx/EMD_SD40_ColouredCaps.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_ColouredCaps_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_ColouredCaps_r;
  spriteset_EMD_SD40_TunnelMotor_ColouredCaps;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_ColouredCaps, 13816) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_ColouredCaps_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_ColouredCaps_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_ColouredNoses
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredNoses_Purchase,   "gfx/EMD_SD40_ColouredNoses.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredNoses,   "gfx/EMD_SD40_ColouredNoses.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredNoses_r,   "gfx/EMD_SD40_ColouredNoses.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_ColouredNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_ColouredNoses_r;
  spriteset_EMD_SD40_TunnelMotor_ColouredNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_ColouredNoses, 13817) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_ColouredNoses_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_ColouredNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_TwoTone
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoTone_Purchase,   "gfx/EMD_SD40_TwoTone.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoTone,   "gfx/EMD_SD40_TwoTone.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoTone_r,   "gfx/EMD_SD40_TwoTone.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_TwoTone_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_TwoTone_r;
  spriteset_EMD_SD40_TunnelMotor_TwoTone;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_TwoTone, 13818) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_TwoTone_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_TwoToneandCab
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoToneandCab_Purchase,   "gfx/EMD_SD40_TwoToneandCab.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoToneandCab,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoToneandCab_r,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_TwoToneandCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_TwoToneandCab_r;
  spriteset_EMD_SD40_TunnelMotor_TwoToneandCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_TwoToneandCab, 13819) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_TwoToneandCab_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_TwoToneandCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_BigSkyBlue
spriteset(spriteset_EMD_SD40_TunnelMotor_BigSkyBlue_Purchase,   "gfx/EMD_SD40_BigSkyBlue.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_BigSkyBlue,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_BigSkyBlue_r,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_BigSkyBlue_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_BigSkyBlue_r;
  spriteset_EMD_SD40_TunnelMotor_BigSkyBlue;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_BigSkyBlue, 13820) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_BigSkyBlue_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_BigSkyBlue_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_ColouredCab
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredCab_Purchase,   "gfx/EMD_SD40_ColouredCab.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredCab,   "gfx/EMD_SD40_ColouredCab.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_ColouredCab_r,   "gfx/EMD_SD40_ColouredCab.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_ColouredCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_ColouredCab_r;
  spriteset_EMD_SD40_TunnelMotor_ColouredCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_ColouredCab, 13821) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_ColouredCab_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_ColouredCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_TwoToneBodyStripe
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoToneBodyStripe_Purchase,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoToneBodyStripe,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_TwoToneBodyStripe_r,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_TwoToneBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_TwoToneBodyStripe_r;
  spriteset_EMD_SD40_TunnelMotor_TwoToneBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_TwoToneBodyStripe, 13822) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_TwoToneBodyStripe_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_TwoToneBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_LowBodyStripe
spriteset(spriteset_EMD_SD40_TunnelMotor_LowBodyStripe_Purchase,   "gfx/EMD_SD40_LowBodyStripe.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_LowBodyStripe,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_LowBodyStripe_r,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_LowBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_LowBodyStripe_r;
  spriteset_EMD_SD40_TunnelMotor_LowBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_LowBodyStripe, 13823) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_LowBodyStripe_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_LowBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_BodyStripeandBlack
spriteset(spriteset_EMD_SD40_TunnelMotor_BodyStripeandBlack_Purchase,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_BodyStripeandBlack,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_BodyStripeandBlack_r,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_BodyStripeandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_BodyStripeandBlack_r;
  spriteset_EMD_SD40_TunnelMotor_BodyStripeandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_BodyStripeandBlack, 13824) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_BodyStripeandBlack_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_BodyStripeandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_Warbonnet
spriteset(spriteset_EMD_SD40_TunnelMotor_Warbonnet_Purchase,   "gfx/EMD_SD40_Warbonnet.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_Warbonnet,   "gfx/EMD_SD40_Warbonnet.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_Warbonnet_r,   "gfx/EMD_SD40_Warbonnet.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_Warbonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_Warbonnet_r;
  spriteset_EMD_SD40_TunnelMotor_Warbonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_Warbonnet, 13825) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_Warbonnet_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_Bonnet
spriteset(spriteset_EMD_SD40_TunnelMotor_Bonnet_Purchase,   "gfx/EMD_SD40_Bonnet.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_Bonnet,   "gfx/EMD_SD40_Bonnet.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_Bonnet_r,   "gfx/EMD_SD40_Bonnet.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_Bonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_Bonnet_r;
  spriteset_EMD_SD40_TunnelMotor_Bonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_Bonnet, 13826) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_Bonnet_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_TunnelMotor_GrayandStripe
spriteset(spriteset_EMD_SD40_TunnelMotor_GrayandStripe_Purchase,   "gfx/EMD_SD40_GrayandStripe.png") {template_purchase(185, 21)}
spriteset(spriteset_EMD_SD40_TunnelMotor_GrayandStripe,   "gfx/EMD_SD40_GrayandStripe.png") {template_8(7, 89)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_TunnelMotor_GrayandStripe_r,   "gfx/EMD_SD40_GrayandStripe.png") {template_8_r(7, 89)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_TunnelMotor_GrayandStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_TunnelMotor_GrayandStripe_r;
  spriteset_EMD_SD40_TunnelMotor_GrayandStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_TunnelMotor_GrayandStripe, 13827) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_TunnelMotor);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_TunnelMotor;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_TunnelMotor_GrayandStripe_position;
        purchase: spriteset_EMD_SD40_TunnelMotor_GrayandStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab
spriteset(spriteset_EMD_SD40_WideCab_Purchase,   "gfx/EMD_SD40.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab,   "gfx/EMD_SD40.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_r,   "gfx/EMD_SD40.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_r;
  spriteset_EMD_SD40_WideCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab, 13850) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_position;
        purchase: spriteset_EMD_SD40_WideCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_Basic
spriteset(spriteset_EMD_SD40_WideCab_Basic_Purchase,   "gfx/EMD_SD40_Basic.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_Basic,   "gfx/EMD_SD40_Basic.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_Basic_r,   "gfx/EMD_SD40_Basic.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_Basic_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_Basic_r;
  spriteset_EMD_SD40_WideCab_Basic;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_Basic, 13861) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_Basic_position;
        purchase: spriteset_EMD_SD40_WideCab_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_Wings
spriteset(spriteset_EMD_SD40_WideCab_Wings_Purchase,   "gfx/EMD_SD40_Wings.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_Wings,   "gfx/EMD_SD40_Wings.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_Wings_r,   "gfx/EMD_SD40_Wings.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_Wings_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_Wings_r;
  spriteset_EMD_SD40_WideCab_Wings;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_Wings, 13862) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_Wings_position;
        purchase: spriteset_EMD_SD40_WideCab_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_Stripe
spriteset(spriteset_EMD_SD40_WideCab_Stripe_Purchase,   "gfx/EMD_SD40_Stripe.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_Stripe,   "gfx/EMD_SD40_Stripe.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_Stripe_r,   "gfx/EMD_SD40_Stripe.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_Stripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_Stripe_r;
  spriteset_EMD_SD40_WideCab_Stripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_Stripe, 13863) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_Stripe_position;
        purchase: spriteset_EMD_SD40_WideCab_Stripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_HazardNoses
spriteset(spriteset_EMD_SD40_WideCab_HazardNoses_Purchase,   "gfx/EMD_SD40_HazardNoses.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_HazardNoses,   "gfx/EMD_SD40_HazardNoses.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_HazardNoses_r,   "gfx/EMD_SD40_HazardNoses.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_HazardNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_HazardNoses_r;
  spriteset_EMD_SD40_WideCab_HazardNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_HazardNoses, 13864) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_HazardNoses_position;
        purchase: spriteset_EMD_SD40_WideCab_HazardNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_HazardandBlack
spriteset(spriteset_EMD_SD40_WideCab_HazardandBlack_Purchase,   "gfx/EMD_SD40_HazardandBlack.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_HazardandBlack,   "gfx/EMD_SD40_HazardandBlack.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_HazardandBlack_r,   "gfx/EMD_SD40_HazardandBlack.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_HazardandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_HazardandBlack_r;
  spriteset_EMD_SD40_WideCab_HazardandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_HazardandBlack, 13865) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_HazardandBlack_position;
        purchase: spriteset_EMD_SD40_WideCab_HazardandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_ColouredCaps
spriteset(spriteset_EMD_SD40_WideCab_ColouredCaps_Purchase,   "gfx/EMD_SD40_ColouredCaps.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_ColouredCaps,   "gfx/EMD_SD40_ColouredCaps.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_ColouredCaps_r,   "gfx/EMD_SD40_ColouredCaps.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_ColouredCaps_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_ColouredCaps_r;
  spriteset_EMD_SD40_WideCab_ColouredCaps;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_ColouredCaps, 13866) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_ColouredCaps_position;
        purchase: spriteset_EMD_SD40_WideCab_ColouredCaps_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_ColouredNoses
spriteset(spriteset_EMD_SD40_WideCab_ColouredNoses_Purchase,   "gfx/EMD_SD40_ColouredNoses.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_ColouredNoses,   "gfx/EMD_SD40_ColouredNoses.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_ColouredNoses_r,   "gfx/EMD_SD40_ColouredNoses.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_ColouredNoses_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_ColouredNoses_r;
  spriteset_EMD_SD40_WideCab_ColouredNoses;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_ColouredNoses, 13867) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_ColouredNoses_position;
        purchase: spriteset_EMD_SD40_WideCab_ColouredNoses_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_TwoTone
spriteset(spriteset_EMD_SD40_WideCab_TwoTone_Purchase,   "gfx/EMD_SD40_TwoTone.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_TwoTone,   "gfx/EMD_SD40_TwoTone.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_TwoTone_r,   "gfx/EMD_SD40_TwoTone.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_TwoTone_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_TwoTone_r;
  spriteset_EMD_SD40_WideCab_TwoTone;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_TwoTone, 13868) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_TwoTone_position;
        purchase: spriteset_EMD_SD40_WideCab_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_TwoToneandCab
spriteset(spriteset_EMD_SD40_WideCab_TwoToneandCab_Purchase,   "gfx/EMD_SD40_TwoToneandCab.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_TwoToneandCab,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_TwoToneandCab_r,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_TwoToneandCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_TwoToneandCab_r;
  spriteset_EMD_SD40_WideCab_TwoToneandCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_TwoToneandCab, 13869) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_TwoToneandCab_position;
        purchase: spriteset_EMD_SD40_WideCab_TwoToneandCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_BigSkyBlue
spriteset(spriteset_EMD_SD40_WideCab_BigSkyBlue_Purchase,   "gfx/EMD_SD40_BigSkyBlue.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_BigSkyBlue,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_BigSkyBlue_r,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_BigSkyBlue_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_BigSkyBlue_r;
  spriteset_EMD_SD40_WideCab_BigSkyBlue;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_BigSkyBlue, 13870) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_BigSkyBlue_position;
        purchase: spriteset_EMD_SD40_WideCab_BigSkyBlue_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_ColouredCab
spriteset(spriteset_EMD_SD40_WideCab_ColouredCab_Purchase,   "gfx/EMD_SD40_ColouredCab.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_ColouredCab,   "gfx/EMD_SD40_ColouredCab.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_ColouredCab_r,   "gfx/EMD_SD40_ColouredCab.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_ColouredCab_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_ColouredCab_r;
  spriteset_EMD_SD40_WideCab_ColouredCab;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_ColouredCab, 13871) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_ColouredCab_position;
        purchase: spriteset_EMD_SD40_WideCab_ColouredCab_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_TwoToneBodyStripe
spriteset(spriteset_EMD_SD40_WideCab_TwoToneBodyStripe_Purchase,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_TwoToneBodyStripe,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_TwoToneBodyStripe_r,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_TwoToneBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_TwoToneBodyStripe_r;
  spriteset_EMD_SD40_WideCab_TwoToneBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_TwoToneBodyStripe, 13872) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_TwoToneBodyStripe_position;
        purchase: spriteset_EMD_SD40_WideCab_TwoToneBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_LowBodyStripe
spriteset(spriteset_EMD_SD40_WideCab_LowBodyStripe_Purchase,   "gfx/EMD_SD40_LowBodyStripe.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_LowBodyStripe,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_LowBodyStripe_r,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_LowBodyStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_LowBodyStripe_r;
  spriteset_EMD_SD40_WideCab_LowBodyStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_LowBodyStripe, 13873) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_LowBodyStripe_position;
        purchase: spriteset_EMD_SD40_WideCab_LowBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_BodyStripeandBlack
spriteset(spriteset_EMD_SD40_WideCab_BodyStripeandBlack_Purchase,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_BodyStripeandBlack,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_BodyStripeandBlack_r,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_BodyStripeandBlack_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_BodyStripeandBlack_r;
  spriteset_EMD_SD40_WideCab_BodyStripeandBlack;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_BodyStripeandBlack, 13874) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_BodyStripeandBlack_position;
        purchase: spriteset_EMD_SD40_WideCab_BodyStripeandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_Warbonnet
spriteset(spriteset_EMD_SD40_WideCab_Warbonnet_Purchase,   "gfx/EMD_SD40_Warbonnet.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_Warbonnet,   "gfx/EMD_SD40_Warbonnet.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_Warbonnet_r,   "gfx/EMD_SD40_Warbonnet.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_Warbonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_Warbonnet_r;
  spriteset_EMD_SD40_WideCab_Warbonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_Warbonnet, 13875) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_Warbonnet_position;
        purchase: spriteset_EMD_SD40_WideCab_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_Bonnet
spriteset(spriteset_EMD_SD40_WideCab_Bonnet_Purchase,   "gfx/EMD_SD40_Bonnet.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_Bonnet,   "gfx/EMD_SD40_Bonnet.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_Bonnet_r,   "gfx/EMD_SD40_Bonnet.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_Bonnet_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_Bonnet_r;
  spriteset_EMD_SD40_WideCab_Bonnet;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_Bonnet, 13876) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_Bonnet_position;
        purchase: spriteset_EMD_SD40_WideCab_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_SD40_WideCab_GrayandStripe
spriteset(spriteset_EMD_SD40_WideCab_GrayandStripe_Purchase,   "gfx/EMD_SD40_GrayandStripe.png") {template_purchase(274, 21)}
spriteset(spriteset_EMD_SD40_WideCab_GrayandStripe,   "gfx/EMD_SD40_GrayandStripe.png") {template_8(7, 114)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SD40_WideCab_GrayandStripe_r,   "gfx/EMD_SD40_GrayandStripe.png") {template_8_r(7, 114)}

switch(FEAT_TRAINS, SELF, switch_EMD_SD40_WideCab_GrayandStripe_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_SD40_WideCab_GrayandStripe_r;
  spriteset_EMD_SD40_WideCab_GrayandStripe;
}

item(FEAT_TRAINS, Item_EMD_SD40_WideCab_GrayandStripe, 13877) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SD40_WideCab);
        introduction_date:                date(1966,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        167 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             133;
		cargo_capacity:                  0;

        variant_group: Item_EMD_SD40_WideCab;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SD40_WideCab_GrayandStripe_position;
        purchase: spriteset_EMD_SD40_WideCab_GrayandStripe_Purchase;
        additional_text: string(STR_INFO_EMD_SD40);
}
}

//EMD_FT
spriteset(spriteset_EMD_FT_Purchase,   "gfx/EMD_FUnit.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_A,   "gfx/EMD_FUnit.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_B,   "gfx/EMD_FUnit.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_A; // <- not flipped
 1: spriteset_EMD_FT_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_B; // <- not flipped
 1: spriteset_EMD_FT_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_rear_flipcheck;
  spriteset_EMD_FT_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_lead_flipcheck;
  switch_EMD_FT_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT, 20000) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

//        variant_group: Item_EMD_FT;
//        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_graphics;
        purchase: spriteset_EMD_FT_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_AmtrakPHI
spriteset(spriteset_EMD_FT_AmtrakPHI_Purchase,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_AmtrakPHI_A,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_AmtrakPHI_B,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHI_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHI_A; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHI_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHI_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHI_B; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHI_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHI_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_AmtrakPHI_rear_flipcheck;
  spriteset_EMD_FT_AmtrakPHI_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHI_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_AmtrakPHI_lead_flipcheck;
  switch_EMD_FT_AmtrakPHI_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_AmtrakPHI, 20011) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_AmtrakPHI_graphics;
        purchase: spriteset_EMD_FT_AmtrakPHI_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_AmtrakPHIII
spriteset(spriteset_EMD_FT_AmtrakPHIII_Purchase,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_AmtrakPHIII_A,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_AmtrakPHIII_B,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHIII_A; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHIII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHIII_B; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHIII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_AmtrakPHIII_rear_flipcheck;
  spriteset_EMD_FT_AmtrakPHIII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIII_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_AmtrakPHIII_lead_flipcheck;
  switch_EMD_FT_AmtrakPHIII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_AmtrakPHIII, 20013) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_AmtrakPHIII_graphics;
        purchase: spriteset_EMD_FT_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_AmtrakPHIV
spriteset(spriteset_EMD_FT_AmtrakPHIV_Purchase,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_AmtrakPHIV_A,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_AmtrakPHIV_B,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHIV_A; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHIV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHIV_B; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHIV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_AmtrakPHIV_rear_flipcheck;
  spriteset_EMD_FT_AmtrakPHIV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHIV_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_AmtrakPHIV_lead_flipcheck;
  switch_EMD_FT_AmtrakPHIV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_AmtrakPHIV, 20014) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_AmtrakPHIV_graphics;
        purchase: spriteset_EMD_FT_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_AmtrakPHV
spriteset(spriteset_EMD_FT_AmtrakPHV_Purchase,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_AmtrakPHV_A,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_AmtrakPHV_B,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHV_A; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_AmtrakPHV_B; // <- not flipped
 1: spriteset_EMD_FT_AmtrakPHV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_AmtrakPHV_rear_flipcheck;
  spriteset_EMD_FT_AmtrakPHV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_AmtrakPHV_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_AmtrakPHV_lead_flipcheck;
  switch_EMD_FT_AmtrakPHV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_AmtrakPHV, 20015) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_AmtrakPHV_graphics;
        purchase: spriteset_EMD_FT_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_Via70s
spriteset(spriteset_EMD_FT_Via70s_Purchase,   "gfx/EMD_FUnit_Via70s.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_Via70s_A,   "gfx/EMD_FUnit_Via70s.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_Via70s_B,   "gfx/EMD_FUnit_Via70s.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Via70s_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Via70s_A; // <- not flipped
 1: spriteset_EMD_FT_Via70s_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Via70s_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Via70s_B; // <- not flipped
 1: spriteset_EMD_FT_Via70s_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Via70s_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_Via70s_rear_flipcheck;
  spriteset_EMD_FT_Via70s_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Via70s_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_Via70s_lead_flipcheck;
  switch_EMD_FT_Via70s_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_Via70s, 20022) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_Via70s_graphics;
        purchase: spriteset_EMD_FT_Via70s_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_Basic
spriteset(spriteset_EMD_FT_Basic_Purchase,   "gfx/EMD_FUnit_Basic.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_Basic_A,   "gfx/EMD_FUnit_Basic.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_Basic_B,   "gfx/EMD_FUnit_Basic.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Basic_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Basic_A; // <- not flipped
 1: spriteset_EMD_FT_Basic_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Basic_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Basic_B; // <- not flipped
 1: spriteset_EMD_FT_Basic_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Basic_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_Basic_rear_flipcheck;
  spriteset_EMD_FT_Basic_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Basic_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_Basic_lead_flipcheck;
  switch_EMD_FT_Basic_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_Basic, 20051) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_Basic_graphics;
        purchase: spriteset_EMD_FT_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_Wings
spriteset(spriteset_EMD_FT_Wings_Purchase,   "gfx/EMD_FUnit_Wings.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_Wings_A,   "gfx/EMD_FUnit_Wings.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_Wings_B,   "gfx/EMD_FUnit_Wings.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Wings_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Wings_A; // <- not flipped
 1: spriteset_EMD_FT_Wings_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Wings_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Wings_B; // <- not flipped
 1: spriteset_EMD_FT_Wings_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Wings_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_Wings_rear_flipcheck;
  spriteset_EMD_FT_Wings_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Wings_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_Wings_lead_flipcheck;
  switch_EMD_FT_Wings_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_Wings, 20052) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_Wings_graphics;
        purchase: spriteset_EMD_FT_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_SingleStripe
spriteset(spriteset_EMD_FT_SingleStripe_Purchase,   "gfx/EMD_FUnit_SingleStripe.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_SingleStripe_A,   "gfx/EMD_FUnit_SingleStripe.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_SingleStripe_B,   "gfx/EMD_FUnit_SingleStripe.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_SingleStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_SingleStripe_A; // <- not flipped
 1: spriteset_EMD_FT_SingleStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_SingleStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_SingleStripe_B; // <- not flipped
 1: spriteset_EMD_FT_SingleStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_SingleStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_SingleStripe_rear_flipcheck;
  spriteset_EMD_FT_SingleStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_SingleStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_SingleStripe_lead_flipcheck;
  switch_EMD_FT_SingleStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_SingleStripe, 20053) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_SingleStripe_graphics;
        purchase: spriteset_EMD_FT_SingleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_ThickStripe
spriteset(spriteset_EMD_FT_ThickStripe_Purchase,   "gfx/EMD_FUnit_ThickStripe.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_ThickStripe_A,   "gfx/EMD_FUnit_ThickStripe.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_ThickStripe_B,   "gfx/EMD_FUnit_ThickStripe.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_ThickStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_ThickStripe_A; // <- not flipped
 1: spriteset_EMD_FT_ThickStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_ThickStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_ThickStripe_B; // <- not flipped
 1: spriteset_EMD_FT_ThickStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_ThickStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_ThickStripe_rear_flipcheck;
  spriteset_EMD_FT_ThickStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_ThickStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_ThickStripe_lead_flipcheck;
  switch_EMD_FT_ThickStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_ThickStripe, 20054) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_ThickStripe_graphics;
        purchase: spriteset_EMD_FT_ThickStripe_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_DoubleStripe
spriteset(spriteset_EMD_FT_DoubleStripe_Purchase,   "gfx/EMD_FUnit_DoubleStripe.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_DoubleStripe_A,   "gfx/EMD_FUnit_DoubleStripe.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_DoubleStripe_B,   "gfx/EMD_FUnit_DoubleStripe.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_DoubleStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_DoubleStripe_A; // <- not flipped
 1: spriteset_EMD_FT_DoubleStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_DoubleStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_DoubleStripe_B; // <- not flipped
 1: spriteset_EMD_FT_DoubleStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_DoubleStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_DoubleStripe_rear_flipcheck;
  spriteset_EMD_FT_DoubleStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_DoubleStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_DoubleStripe_lead_flipcheck;
  switch_EMD_FT_DoubleStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_DoubleStripe, 20055) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_DoubleStripe_graphics;
        purchase: spriteset_EMD_FT_DoubleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_BodyStripeDown
spriteset(spriteset_EMD_FT_BodyStripeDown_Purchase,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_BodyStripeDown_A,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_BodyStripeDown_B,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BodyStripeDown_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_BodyStripeDown_A; // <- not flipped
 1: spriteset_EMD_FT_BodyStripeDown_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BodyStripeDown_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_BodyStripeDown_B; // <- not flipped
 1: spriteset_EMD_FT_BodyStripeDown_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BodyStripeDown_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_BodyStripeDown_rear_flipcheck;
  spriteset_EMD_FT_BodyStripeDown_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BodyStripeDown_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_BodyStripeDown_lead_flipcheck;
  switch_EMD_FT_BodyStripeDown_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_BodyStripeDown, 20056) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_BodyStripeDown_graphics;
        purchase: spriteset_EMD_FT_BodyStripeDown_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_NoseSwoosh
spriteset(spriteset_EMD_FT_NoseSwoosh_Purchase,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_NoseSwoosh_A,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_NoseSwoosh_B,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_NoseSwoosh_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_NoseSwoosh_A; // <- not flipped
 1: spriteset_EMD_FT_NoseSwoosh_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_NoseSwoosh_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_NoseSwoosh_B; // <- not flipped
 1: spriteset_EMD_FT_NoseSwoosh_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_NoseSwoosh_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_NoseSwoosh_rear_flipcheck;
  spriteset_EMD_FT_NoseSwoosh_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_NoseSwoosh_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_NoseSwoosh_lead_flipcheck;
  switch_EMD_FT_NoseSwoosh_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_NoseSwoosh, 20057) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_NoseSwoosh_graphics;
        purchase: spriteset_EMD_FT_NoseSwoosh_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_EvenLowerStripe
spriteset(spriteset_EMD_FT_EvenLowerStripe_Purchase,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_EvenLowerStripe_A,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_EvenLowerStripe_B,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_EvenLowerStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_EvenLowerStripe_A; // <- not flipped
 1: spriteset_EMD_FT_EvenLowerStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_EvenLowerStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_EvenLowerStripe_B; // <- not flipped
 1: spriteset_EMD_FT_EvenLowerStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_EvenLowerStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_EvenLowerStripe_rear_flipcheck;
  spriteset_EMD_FT_EvenLowerStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_EvenLowerStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_EvenLowerStripe_lead_flipcheck;
  switch_EMD_FT_EvenLowerStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_EvenLowerStripe, 20059) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_EvenLowerStripe_graphics;
        purchase: spriteset_EMD_FT_EvenLowerStripe_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_StripeandNose
spriteset(spriteset_EMD_FT_StripeandNose_Purchase,   "gfx/EMD_FUnit_StripeandNose.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_StripeandNose_A,   "gfx/EMD_FUnit_StripeandNose.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_StripeandNose_B,   "gfx/EMD_FUnit_StripeandNose.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_StripeandNose_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_StripeandNose_A; // <- not flipped
 1: spriteset_EMD_FT_StripeandNose_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_StripeandNose_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_StripeandNose_B; // <- not flipped
 1: spriteset_EMD_FT_StripeandNose_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_StripeandNose_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_StripeandNose_rear_flipcheck;
  spriteset_EMD_FT_StripeandNose_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_StripeandNose_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_StripeandNose_lead_flipcheck;
  switch_EMD_FT_StripeandNose_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_StripeandNose, 20060) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_StripeandNose_graphics;
        purchase: spriteset_EMD_FT_StripeandNose_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_BloodyNose
spriteset(spriteset_EMD_FT_BloodyNose_Purchase,   "gfx/EMD_FUnit_BloodyNose.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_BloodyNose_A,   "gfx/EMD_FUnit_BloodyNose.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_BloodyNose_B,   "gfx/EMD_FUnit_BloodyNose.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BloodyNose_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_BloodyNose_A; // <- not flipped
 1: spriteset_EMD_FT_BloodyNose_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BloodyNose_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_BloodyNose_B; // <- not flipped
 1: spriteset_EMD_FT_BloodyNose_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BloodyNose_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_BloodyNose_rear_flipcheck;
  spriteset_EMD_FT_BloodyNose_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_BloodyNose_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_BloodyNose_lead_flipcheck;
  switch_EMD_FT_BloodyNose_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_BloodyNose, 20064) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_BloodyNose_graphics;
        purchase: spriteset_EMD_FT_BloodyNose_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_TwoTone
spriteset(spriteset_EMD_FT_TwoTone_Purchase,   "gfx/EMD_FUnit_TwoTone.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_TwoTone_A,   "gfx/EMD_FUnit_TwoTone.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_TwoTone_B,   "gfx/EMD_FUnit_TwoTone.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoTone_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_TwoTone_A; // <- not flipped
 1: spriteset_EMD_FT_TwoTone_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoTone_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_TwoTone_B; // <- not flipped
 1: spriteset_EMD_FT_TwoTone_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoTone_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_TwoTone_rear_flipcheck;
  spriteset_EMD_FT_TwoTone_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoTone_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_TwoTone_lead_flipcheck;
  switch_EMD_FT_TwoTone_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_TwoTone, 20065) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_TwoTone_graphics;
        purchase: spriteset_EMD_FT_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_TwoToneClearCab
spriteset(spriteset_EMD_FT_TwoToneClearCab_Purchase,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_TwoToneClearCab_A,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_TwoToneClearCab_B,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoToneClearCab_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_TwoToneClearCab_A; // <- not flipped
 1: spriteset_EMD_FT_TwoToneClearCab_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoToneClearCab_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_TwoToneClearCab_B; // <- not flipped
 1: spriteset_EMD_FT_TwoToneClearCab_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoToneClearCab_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_TwoToneClearCab_rear_flipcheck;
  spriteset_EMD_FT_TwoToneClearCab_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_TwoToneClearCab_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_TwoToneClearCab_lead_flipcheck;
  switch_EMD_FT_TwoToneClearCab_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_TwoToneClearCab, 20066) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_TwoToneClearCab_graphics;
        purchase: spriteset_EMD_FT_TwoToneClearCab_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_Warbonnet
spriteset(spriteset_EMD_FT_Warbonnet_Purchase,   "gfx/EMD_FUnit_Warbonnet.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_Warbonnet_A,   "gfx/EMD_FUnit_Warbonnet.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_Warbonnet_B,   "gfx/EMD_FUnit_Warbonnet.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Warbonnet_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Warbonnet_A; // <- not flipped
 1: spriteset_EMD_FT_Warbonnet_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Warbonnet_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Warbonnet_B; // <- not flipped
 1: spriteset_EMD_FT_Warbonnet_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Warbonnet_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_Warbonnet_rear_flipcheck;
  spriteset_EMD_FT_Warbonnet_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Warbonnet_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_Warbonnet_lead_flipcheck;
  switch_EMD_FT_Warbonnet_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_Warbonnet, 20069) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_Warbonnet_graphics;
        purchase: spriteset_EMD_FT_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_FT_Bonnet
spriteset(spriteset_EMD_FT_Bonnet_Purchase,   "gfx/EMD_FUnit_Bonnet.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FT_Bonnet_A,   "gfx/EMD_FUnit_Bonnet.png") {template_7(7, 39)}
spriteset(spriteset_EMD_FT_Bonnet_B,   "gfx/EMD_FUnit_Bonnet.png") {template_7(7, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Bonnet_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Bonnet_A; // <- not flipped
 1: spriteset_EMD_FT_Bonnet_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Bonnet_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_FT_Bonnet_B; // <- not flipped
 1: spriteset_EMD_FT_Bonnet_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Bonnet_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_FT_Bonnet_rear_flipcheck;
  spriteset_EMD_FT_Bonnet_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_FT_Bonnet_graphics, position_in_vehid_chain) {
 0: switch_EMD_FT_Bonnet_lead_flipcheck;
  switch_EMD_FT_Bonnet_rear_position;
}

item(FEAT_TRAINS, Item_EMD_FT_Bonnet, 20070) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_FT);
        introduction_date:                date(1939,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        104 ton;
        speed:                            75 mph;
        power:                            1350 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FT_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FT_Bonnet_graphics;
        purchase: spriteset_EMD_FT_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_FT);
}
}

//EMD_F3
spriteset(spriteset_EMD_F3_Purchase,   "gfx/EMD_FUnit.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_A,   "gfx/EMD_FUnit.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_B,   "gfx/EMD_FUnit.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_A; // <- not flipped
 1: spriteset_EMD_F3_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_B; // <- not flipped
 1: spriteset_EMD_F3_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_rear_flipcheck;
  spriteset_EMD_F3_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_lead_flipcheck;
  switch_EMD_F3_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3, 20300) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

//        variant_group: Item_EMD_F3;
//        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_graphics;
        purchase: spriteset_EMD_F3_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_AmtrakPHI
spriteset(spriteset_EMD_F3_AmtrakPHI_Purchase,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_AmtrakPHI_A,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_AmtrakPHI_B,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHI_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHI_A; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHI_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHI_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHI_B; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHI_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHI_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_AmtrakPHI_rear_flipcheck;
  spriteset_EMD_F3_AmtrakPHI_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHI_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_AmtrakPHI_lead_flipcheck;
  switch_EMD_F3_AmtrakPHI_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_AmtrakPHI, 20311) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_AmtrakPHI_graphics;
        purchase: spriteset_EMD_F3_AmtrakPHI_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_AmtrakPHIII
spriteset(spriteset_EMD_F3_AmtrakPHIII_Purchase,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_AmtrakPHIII_A,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_AmtrakPHIII_B,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHIII_A; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHIII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHIII_B; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHIII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_AmtrakPHIII_rear_flipcheck;
  spriteset_EMD_F3_AmtrakPHIII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIII_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_AmtrakPHIII_lead_flipcheck;
  switch_EMD_F3_AmtrakPHIII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_AmtrakPHIII, 20313) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_AmtrakPHIII_graphics;
        purchase: spriteset_EMD_F3_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_AmtrakPHIV
spriteset(spriteset_EMD_F3_AmtrakPHIV_Purchase,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_AmtrakPHIV_A,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_AmtrakPHIV_B,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHIV_A; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHIV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHIV_B; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHIV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_AmtrakPHIV_rear_flipcheck;
  spriteset_EMD_F3_AmtrakPHIV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHIV_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_AmtrakPHIV_lead_flipcheck;
  switch_EMD_F3_AmtrakPHIV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_AmtrakPHIV, 20314) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_AmtrakPHIV_graphics;
        purchase: spriteset_EMD_F3_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_AmtrakPHV
spriteset(spriteset_EMD_F3_AmtrakPHV_Purchase,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_AmtrakPHV_A,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_AmtrakPHV_B,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHV_A; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_AmtrakPHV_B; // <- not flipped
 1: spriteset_EMD_F3_AmtrakPHV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_AmtrakPHV_rear_flipcheck;
  spriteset_EMD_F3_AmtrakPHV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_AmtrakPHV_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_AmtrakPHV_lead_flipcheck;
  switch_EMD_F3_AmtrakPHV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_AmtrakPHV, 20315) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_AmtrakPHV_graphics;
        purchase: spriteset_EMD_F3_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_Via70s
spriteset(spriteset_EMD_F3_Via70s_Purchase,   "gfx/EMD_FUnit_Via70s.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_Via70s_A,   "gfx/EMD_FUnit_Via70s.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_Via70s_B,   "gfx/EMD_FUnit_Via70s.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Via70s_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Via70s_A; // <- not flipped
 1: spriteset_EMD_F3_Via70s_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Via70s_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Via70s_B; // <- not flipped
 1: spriteset_EMD_F3_Via70s_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Via70s_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_Via70s_rear_flipcheck;
  spriteset_EMD_F3_Via70s_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Via70s_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_Via70s_lead_flipcheck;
  switch_EMD_F3_Via70s_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_Via70s, 20322) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_Via70s_graphics;
        purchase: spriteset_EMD_F3_Via70s_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_Basic
spriteset(spriteset_EMD_F3_Basic_Purchase,   "gfx/EMD_FUnit_Basic.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_Basic_A,   "gfx/EMD_FUnit_Basic.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_Basic_B,   "gfx/EMD_FUnit_Basic.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Basic_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Basic_A; // <- not flipped
 1: spriteset_EMD_F3_Basic_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Basic_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Basic_B; // <- not flipped
 1: spriteset_EMD_F3_Basic_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Basic_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_Basic_rear_flipcheck;
  spriteset_EMD_F3_Basic_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Basic_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_Basic_lead_flipcheck;
  switch_EMD_F3_Basic_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_Basic, 20351) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_Basic_graphics;
        purchase: spriteset_EMD_F3_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_Wings
spriteset(spriteset_EMD_F3_Wings_Purchase,   "gfx/EMD_FUnit_Wings.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_Wings_A,   "gfx/EMD_FUnit_Wings.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_Wings_B,   "gfx/EMD_FUnit_Wings.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Wings_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Wings_A; // <- not flipped
 1: spriteset_EMD_F3_Wings_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Wings_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Wings_B; // <- not flipped
 1: spriteset_EMD_F3_Wings_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Wings_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_Wings_rear_flipcheck;
  spriteset_EMD_F3_Wings_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Wings_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_Wings_lead_flipcheck;
  switch_EMD_F3_Wings_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_Wings, 20352) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_Wings_graphics;
        purchase: spriteset_EMD_F3_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_SingleStripe
spriteset(spriteset_EMD_F3_SingleStripe_Purchase,   "gfx/EMD_FUnit_SingleStripe.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_SingleStripe_A,   "gfx/EMD_FUnit_SingleStripe.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_SingleStripe_B,   "gfx/EMD_FUnit_SingleStripe.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_SingleStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_SingleStripe_A; // <- not flipped
 1: spriteset_EMD_F3_SingleStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_SingleStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_SingleStripe_B; // <- not flipped
 1: spriteset_EMD_F3_SingleStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_SingleStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_SingleStripe_rear_flipcheck;
  spriteset_EMD_F3_SingleStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_SingleStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_SingleStripe_lead_flipcheck;
  switch_EMD_F3_SingleStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_SingleStripe, 20353) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_SingleStripe_graphics;
        purchase: spriteset_EMD_F3_SingleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_ThickStripe
spriteset(spriteset_EMD_F3_ThickStripe_Purchase,   "gfx/EMD_FUnit_ThickStripe.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_ThickStripe_A,   "gfx/EMD_FUnit_ThickStripe.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_ThickStripe_B,   "gfx/EMD_FUnit_ThickStripe.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_ThickStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_ThickStripe_A; // <- not flipped
 1: spriteset_EMD_F3_ThickStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_ThickStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_ThickStripe_B; // <- not flipped
 1: spriteset_EMD_F3_ThickStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_ThickStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_ThickStripe_rear_flipcheck;
  spriteset_EMD_F3_ThickStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_ThickStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_ThickStripe_lead_flipcheck;
  switch_EMD_F3_ThickStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_ThickStripe, 20354) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_ThickStripe_graphics;
        purchase: spriteset_EMD_F3_ThickStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_DoubleStripe
spriteset(spriteset_EMD_F3_DoubleStripe_Purchase,   "gfx/EMD_FUnit_DoubleStripe.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_DoubleStripe_A,   "gfx/EMD_FUnit_DoubleStripe.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_DoubleStripe_B,   "gfx/EMD_FUnit_DoubleStripe.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_DoubleStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_DoubleStripe_A; // <- not flipped
 1: spriteset_EMD_F3_DoubleStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_DoubleStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_DoubleStripe_B; // <- not flipped
 1: spriteset_EMD_F3_DoubleStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_DoubleStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_DoubleStripe_rear_flipcheck;
  spriteset_EMD_F3_DoubleStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_DoubleStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_DoubleStripe_lead_flipcheck;
  switch_EMD_F3_DoubleStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_DoubleStripe, 20355) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_DoubleStripe_graphics;
        purchase: spriteset_EMD_F3_DoubleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_BodyStripeDown
spriteset(spriteset_EMD_F3_BodyStripeDown_Purchase,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_BodyStripeDown_A,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_BodyStripeDown_B,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BodyStripeDown_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_BodyStripeDown_A; // <- not flipped
 1: spriteset_EMD_F3_BodyStripeDown_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BodyStripeDown_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_BodyStripeDown_B; // <- not flipped
 1: spriteset_EMD_F3_BodyStripeDown_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BodyStripeDown_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_BodyStripeDown_rear_flipcheck;
  spriteset_EMD_F3_BodyStripeDown_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BodyStripeDown_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_BodyStripeDown_lead_flipcheck;
  switch_EMD_F3_BodyStripeDown_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_BodyStripeDown, 20356) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_BodyStripeDown_graphics;
        purchase: spriteset_EMD_F3_BodyStripeDown_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_NoseSwoosh
spriteset(spriteset_EMD_F3_NoseSwoosh_Purchase,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_NoseSwoosh_A,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_NoseSwoosh_B,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_NoseSwoosh_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_NoseSwoosh_A; // <- not flipped
 1: spriteset_EMD_F3_NoseSwoosh_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_NoseSwoosh_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_NoseSwoosh_B; // <- not flipped
 1: spriteset_EMD_F3_NoseSwoosh_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_NoseSwoosh_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_NoseSwoosh_rear_flipcheck;
  spriteset_EMD_F3_NoseSwoosh_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_NoseSwoosh_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_NoseSwoosh_lead_flipcheck;
  switch_EMD_F3_NoseSwoosh_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_NoseSwoosh, 20357) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_NoseSwoosh_graphics;
        purchase: spriteset_EMD_F3_NoseSwoosh_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_EvenLowerStripe
spriteset(spriteset_EMD_F3_EvenLowerStripe_Purchase,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_EvenLowerStripe_A,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_EvenLowerStripe_B,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_EvenLowerStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_EvenLowerStripe_A; // <- not flipped
 1: spriteset_EMD_F3_EvenLowerStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_EvenLowerStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_EvenLowerStripe_B; // <- not flipped
 1: spriteset_EMD_F3_EvenLowerStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_EvenLowerStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_EvenLowerStripe_rear_flipcheck;
  spriteset_EMD_F3_EvenLowerStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_EvenLowerStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_EvenLowerStripe_lead_flipcheck;
  switch_EMD_F3_EvenLowerStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_EvenLowerStripe, 20359) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_EvenLowerStripe_graphics;
        purchase: spriteset_EMD_F3_EvenLowerStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_StripeandNose
spriteset(spriteset_EMD_F3_StripeandNose_Purchase,   "gfx/EMD_FUnit_StripeandNose.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_StripeandNose_A,   "gfx/EMD_FUnit_StripeandNose.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_StripeandNose_B,   "gfx/EMD_FUnit_StripeandNose.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_StripeandNose_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_StripeandNose_A; // <- not flipped
 1: spriteset_EMD_F3_StripeandNose_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_StripeandNose_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_StripeandNose_B; // <- not flipped
 1: spriteset_EMD_F3_StripeandNose_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_StripeandNose_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_StripeandNose_rear_flipcheck;
  spriteset_EMD_F3_StripeandNose_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_StripeandNose_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_StripeandNose_lead_flipcheck;
  switch_EMD_F3_StripeandNose_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_StripeandNose, 20360) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_StripeandNose_graphics;
        purchase: spriteset_EMD_F3_StripeandNose_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_BloodyNose
spriteset(spriteset_EMD_F3_BloodyNose_Purchase,   "gfx/EMD_FUnit_BloodyNose.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_BloodyNose_A,   "gfx/EMD_FUnit_BloodyNose.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_BloodyNose_B,   "gfx/EMD_FUnit_BloodyNose.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BloodyNose_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_BloodyNose_A; // <- not flipped
 1: spriteset_EMD_F3_BloodyNose_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BloodyNose_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_BloodyNose_B; // <- not flipped
 1: spriteset_EMD_F3_BloodyNose_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BloodyNose_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_BloodyNose_rear_flipcheck;
  spriteset_EMD_F3_BloodyNose_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_BloodyNose_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_BloodyNose_lead_flipcheck;
  switch_EMD_F3_BloodyNose_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_BloodyNose, 20364) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_BloodyNose_graphics;
        purchase: spriteset_EMD_F3_BloodyNose_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_TwoTone
spriteset(spriteset_EMD_F3_TwoTone_Purchase,   "gfx/EMD_FUnit_TwoTone.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_TwoTone_A,   "gfx/EMD_FUnit_TwoTone.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_TwoTone_B,   "gfx/EMD_FUnit_TwoTone.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoTone_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_TwoTone_A; // <- not flipped
 1: spriteset_EMD_F3_TwoTone_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoTone_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_TwoTone_B; // <- not flipped
 1: spriteset_EMD_F3_TwoTone_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoTone_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_TwoTone_rear_flipcheck;
  spriteset_EMD_F3_TwoTone_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoTone_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_TwoTone_lead_flipcheck;
  switch_EMD_F3_TwoTone_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_TwoTone, 20365) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_TwoTone_graphics;
        purchase: spriteset_EMD_F3_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_TwoToneClearCab
spriteset(spriteset_EMD_F3_TwoToneClearCab_Purchase,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_TwoToneClearCab_A,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_TwoToneClearCab_B,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoToneClearCab_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_TwoToneClearCab_A; // <- not flipped
 1: spriteset_EMD_F3_TwoToneClearCab_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoToneClearCab_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_TwoToneClearCab_B; // <- not flipped
 1: spriteset_EMD_F3_TwoToneClearCab_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoToneClearCab_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_TwoToneClearCab_rear_flipcheck;
  spriteset_EMD_F3_TwoToneClearCab_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_TwoToneClearCab_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_TwoToneClearCab_lead_flipcheck;
  switch_EMD_F3_TwoToneClearCab_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_TwoToneClearCab, 20366) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_TwoToneClearCab_graphics;
        purchase: spriteset_EMD_F3_TwoToneClearCab_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_Warbonnet
spriteset(spriteset_EMD_F3_Warbonnet_Purchase,   "gfx/EMD_FUnit_Warbonnet.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_Warbonnet_A,   "gfx/EMD_FUnit_Warbonnet.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_Warbonnet_B,   "gfx/EMD_FUnit_Warbonnet.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Warbonnet_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Warbonnet_A; // <- not flipped
 1: spriteset_EMD_F3_Warbonnet_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Warbonnet_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Warbonnet_B; // <- not flipped
 1: spriteset_EMD_F3_Warbonnet_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Warbonnet_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_Warbonnet_rear_flipcheck;
  spriteset_EMD_F3_Warbonnet_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Warbonnet_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_Warbonnet_lead_flipcheck;
  switch_EMD_F3_Warbonnet_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_Warbonnet, 20369) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_Warbonnet_graphics;
        purchase: spriteset_EMD_F3_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F3_Bonnet
spriteset(spriteset_EMD_F3_Bonnet_Purchase,   "gfx/EMD_FUnit_Bonnet.png") {template_purchase(187, 21)}

spriteset(spriteset_EMD_F3_Bonnet_A,   "gfx/EMD_FUnit_Bonnet.png") {template_7(187, 39)}
spriteset(spriteset_EMD_F3_Bonnet_B,   "gfx/EMD_FUnit_Bonnet.png") {template_7(187, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Bonnet_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Bonnet_A; // <- not flipped
 1: spriteset_EMD_F3_Bonnet_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Bonnet_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F3_Bonnet_B; // <- not flipped
 1: spriteset_EMD_F3_Bonnet_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Bonnet_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F3_Bonnet_rear_flipcheck;
  spriteset_EMD_F3_Bonnet_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F3_Bonnet_graphics, position_in_vehid_chain) {
 0: switch_EMD_F3_Bonnet_lead_flipcheck;
  switch_EMD_F3_Bonnet_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F3_Bonnet, 20370) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F3);
        introduction_date:                date(1945,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        106 ton;
        speed:                            105 mph;
        power:                            1500 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     9;
        running_cost_factor:             84;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F3_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F3_Bonnet_graphics;
        purchase: spriteset_EMD_F3_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_F3);
}
}

//EMD_F9
spriteset(spriteset_EMD_F9_Purchase,   "gfx/EMD_FUnit.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_A,   "gfx/EMD_FUnit.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_B,   "gfx/EMD_FUnit.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_A; // <- not flipped
 1: spriteset_EMD_F9_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_B; // <- not flipped
 1: spriteset_EMD_F9_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_rear_flipcheck;
  spriteset_EMD_F9_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_lead_flipcheck;
  switch_EMD_F9_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9, 20600) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

//        variant_group: Item_EMD_F9;
//        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_graphics;
        purchase: spriteset_EMD_F9_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_AmtrakPHI
spriteset(spriteset_EMD_F9_AmtrakPHI_Purchase,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_AmtrakPHI_A,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_AmtrakPHI_B,   "gfx/EMD_FUnit_AmtrakPHI.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHI_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHI_A; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHI_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHI_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHI_B; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHI_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHI_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_AmtrakPHI_rear_flipcheck;
  spriteset_EMD_F9_AmtrakPHI_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHI_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_AmtrakPHI_lead_flipcheck;
  switch_EMD_F9_AmtrakPHI_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_AmtrakPHI, 20611) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_AmtrakPHI_graphics;
        purchase: spriteset_EMD_F9_AmtrakPHI_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_AmtrakPHIII
spriteset(spriteset_EMD_F9_AmtrakPHIII_Purchase,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_AmtrakPHIII_A,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_AmtrakPHIII_B,   "gfx/EMD_FUnit_AmtrakPHIII.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIII_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHIII_A; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHIII_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIII_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHIII_B; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHIII_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIII_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_AmtrakPHIII_rear_flipcheck;
  spriteset_EMD_F9_AmtrakPHIII_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIII_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_AmtrakPHIII_lead_flipcheck;
  switch_EMD_F9_AmtrakPHIII_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_AmtrakPHIII, 20613) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_AmtrakPHIII_graphics;
        purchase: spriteset_EMD_F9_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_AmtrakPHIV
spriteset(spriteset_EMD_F9_AmtrakPHIV_Purchase,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_AmtrakPHIV_A,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_AmtrakPHIV_B,   "gfx/EMD_FUnit_AmtrakPHIV.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHIV_A; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHIV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHIV_B; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHIV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_AmtrakPHIV_rear_flipcheck;
  spriteset_EMD_F9_AmtrakPHIV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHIV_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_AmtrakPHIV_lead_flipcheck;
  switch_EMD_F9_AmtrakPHIV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_AmtrakPHIV, 20614) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_AmtrakPHIV_graphics;
        purchase: spriteset_EMD_F9_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_AmtrakPHV
spriteset(spriteset_EMD_F9_AmtrakPHV_Purchase,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_AmtrakPHV_A,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_AmtrakPHV_B,   "gfx/EMD_FUnit_AmtrakPHV.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHV_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHV_A; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHV_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHV_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_AmtrakPHV_B; // <- not flipped
 1: spriteset_EMD_F9_AmtrakPHV_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHV_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_AmtrakPHV_rear_flipcheck;
  spriteset_EMD_F9_AmtrakPHV_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_AmtrakPHV_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_AmtrakPHV_lead_flipcheck;
  switch_EMD_F9_AmtrakPHV_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_AmtrakPHV, 20615) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_AmtrakPHV_graphics;
        purchase: spriteset_EMD_F9_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_Via70s
spriteset(spriteset_EMD_F9_Via70s_Purchase,   "gfx/EMD_FUnit_Via70s.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_Via70s_A,   "gfx/EMD_FUnit_Via70s.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_Via70s_B,   "gfx/EMD_FUnit_Via70s.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Via70s_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Via70s_A; // <- not flipped
 1: spriteset_EMD_F9_Via70s_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Via70s_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Via70s_B; // <- not flipped
 1: spriteset_EMD_F9_Via70s_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Via70s_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_Via70s_rear_flipcheck;
  spriteset_EMD_F9_Via70s_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Via70s_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_Via70s_lead_flipcheck;
  switch_EMD_F9_Via70s_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_Via70s, 20622) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_Via70s_graphics;
        purchase: spriteset_EMD_F9_Via70s_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_Basic
spriteset(spriteset_EMD_F9_Basic_Purchase,   "gfx/EMD_FUnit_Basic.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_Basic_A,   "gfx/EMD_FUnit_Basic.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_Basic_B,   "gfx/EMD_FUnit_Basic.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Basic_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Basic_A; // <- not flipped
 1: spriteset_EMD_F9_Basic_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Basic_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Basic_B; // <- not flipped
 1: spriteset_EMD_F9_Basic_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Basic_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_Basic_rear_flipcheck;
  spriteset_EMD_F9_Basic_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Basic_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_Basic_lead_flipcheck;
  switch_EMD_F9_Basic_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_Basic, 20651) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_Basic_graphics;
        purchase: spriteset_EMD_F9_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_Wings
spriteset(spriteset_EMD_F9_Wings_Purchase,   "gfx/EMD_FUnit_Wings.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_Wings_A,   "gfx/EMD_FUnit_Wings.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_Wings_B,   "gfx/EMD_FUnit_Wings.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Wings_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Wings_A; // <- not flipped
 1: spriteset_EMD_F9_Wings_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Wings_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Wings_B; // <- not flipped
 1: spriteset_EMD_F9_Wings_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Wings_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_Wings_rear_flipcheck;
  spriteset_EMD_F9_Wings_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Wings_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_Wings_lead_flipcheck;
  switch_EMD_F9_Wings_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_Wings, 20652) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_Wings_graphics;
        purchase: spriteset_EMD_F9_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_SingleStripe
spriteset(spriteset_EMD_F9_SingleStripe_Purchase,   "gfx/EMD_FUnit_SingleStripe.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_SingleStripe_A,   "gfx/EMD_FUnit_SingleStripe.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_SingleStripe_B,   "gfx/EMD_FUnit_SingleStripe.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_SingleStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_SingleStripe_A; // <- not flipped
 1: spriteset_EMD_F9_SingleStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_SingleStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_SingleStripe_B; // <- not flipped
 1: spriteset_EMD_F9_SingleStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_SingleStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_SingleStripe_rear_flipcheck;
  spriteset_EMD_F9_SingleStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_SingleStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_SingleStripe_lead_flipcheck;
  switch_EMD_F9_SingleStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_SingleStripe, 20653) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_SingleStripe_graphics;
        purchase: spriteset_EMD_F9_SingleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_ThickStripe
spriteset(spriteset_EMD_F9_ThickStripe_Purchase,   "gfx/EMD_FUnit_ThickStripe.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_ThickStripe_A,   "gfx/EMD_FUnit_ThickStripe.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_ThickStripe_B,   "gfx/EMD_FUnit_ThickStripe.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_ThickStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_ThickStripe_A; // <- not flipped
 1: spriteset_EMD_F9_ThickStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_ThickStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_ThickStripe_B; // <- not flipped
 1: spriteset_EMD_F9_ThickStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_ThickStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_ThickStripe_rear_flipcheck;
  spriteset_EMD_F9_ThickStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_ThickStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_ThickStripe_lead_flipcheck;
  switch_EMD_F9_ThickStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_ThickStripe, 20654) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_ThickStripe_graphics;
        purchase: spriteset_EMD_F9_ThickStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_DoubleStripe
spriteset(spriteset_EMD_F9_DoubleStripe_Purchase,   "gfx/EMD_FUnit_DoubleStripe.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_DoubleStripe_A,   "gfx/EMD_FUnit_DoubleStripe.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_DoubleStripe_B,   "gfx/EMD_FUnit_DoubleStripe.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_DoubleStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_DoubleStripe_A; // <- not flipped
 1: spriteset_EMD_F9_DoubleStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_DoubleStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_DoubleStripe_B; // <- not flipped
 1: spriteset_EMD_F9_DoubleStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_DoubleStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_DoubleStripe_rear_flipcheck;
  spriteset_EMD_F9_DoubleStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_DoubleStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_DoubleStripe_lead_flipcheck;
  switch_EMD_F9_DoubleStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_DoubleStripe, 20655) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_DoubleStripe_graphics;
        purchase: spriteset_EMD_F9_DoubleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_BodyStripeDown
spriteset(spriteset_EMD_F9_BodyStripeDown_Purchase,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_BodyStripeDown_A,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_BodyStripeDown_B,   "gfx/EMD_FUnit_BodyStripeDown.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BodyStripeDown_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_BodyStripeDown_A; // <- not flipped
 1: spriteset_EMD_F9_BodyStripeDown_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BodyStripeDown_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_BodyStripeDown_B; // <- not flipped
 1: spriteset_EMD_F9_BodyStripeDown_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BodyStripeDown_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_BodyStripeDown_rear_flipcheck;
  spriteset_EMD_F9_BodyStripeDown_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BodyStripeDown_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_BodyStripeDown_lead_flipcheck;
  switch_EMD_F9_BodyStripeDown_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_BodyStripeDown, 20656) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_BodyStripeDown_graphics;
        purchase: spriteset_EMD_F9_BodyStripeDown_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_NoseSwoosh
spriteset(spriteset_EMD_F9_NoseSwoosh_Purchase,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_NoseSwoosh_A,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_NoseSwoosh_B,   "gfx/EMD_FUnit_NoseSwoosh.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_NoseSwoosh_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_NoseSwoosh_A; // <- not flipped
 1: spriteset_EMD_F9_NoseSwoosh_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_NoseSwoosh_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_NoseSwoosh_B; // <- not flipped
 1: spriteset_EMD_F9_NoseSwoosh_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_NoseSwoosh_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_NoseSwoosh_rear_flipcheck;
  spriteset_EMD_F9_NoseSwoosh_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_NoseSwoosh_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_NoseSwoosh_lead_flipcheck;
  switch_EMD_F9_NoseSwoosh_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_NoseSwoosh, 20657) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_NoseSwoosh_graphics;
        purchase: spriteset_EMD_F9_NoseSwoosh_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_EvenLowerStripe
spriteset(spriteset_EMD_F9_EvenLowerStripe_Purchase,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_EvenLowerStripe_A,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_EvenLowerStripe_B,   "gfx/EMD_FUnit_EvenLowerStripe.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_EvenLowerStripe_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_EvenLowerStripe_A; // <- not flipped
 1: spriteset_EMD_F9_EvenLowerStripe_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_EvenLowerStripe_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_EvenLowerStripe_B; // <- not flipped
 1: spriteset_EMD_F9_EvenLowerStripe_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_EvenLowerStripe_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_EvenLowerStripe_rear_flipcheck;
  spriteset_EMD_F9_EvenLowerStripe_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_EvenLowerStripe_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_EvenLowerStripe_lead_flipcheck;
  switch_EMD_F9_EvenLowerStripe_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_EvenLowerStripe, 20659) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_EvenLowerStripe_graphics;
        purchase: spriteset_EMD_F9_EvenLowerStripe_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_StripeandNose
spriteset(spriteset_EMD_F9_StripeandNose_Purchase,   "gfx/EMD_FUnit_StripeandNose.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_StripeandNose_A,   "gfx/EMD_FUnit_StripeandNose.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_StripeandNose_B,   "gfx/EMD_FUnit_StripeandNose.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_StripeandNose_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_StripeandNose_A; // <- not flipped
 1: spriteset_EMD_F9_StripeandNose_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_StripeandNose_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_StripeandNose_B; // <- not flipped
 1: spriteset_EMD_F9_StripeandNose_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_StripeandNose_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_StripeandNose_rear_flipcheck;
  spriteset_EMD_F9_StripeandNose_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_StripeandNose_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_StripeandNose_lead_flipcheck;
  switch_EMD_F9_StripeandNose_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_StripeandNose, 20660) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_StripeandNose_graphics;
        purchase: spriteset_EMD_F9_StripeandNose_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_BloodyNose
spriteset(spriteset_EMD_F9_BloodyNose_Purchase,   "gfx/EMD_FUnit_BloodyNose.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_BloodyNose_A,   "gfx/EMD_FUnit_BloodyNose.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_BloodyNose_B,   "gfx/EMD_FUnit_BloodyNose.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BloodyNose_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_BloodyNose_A; // <- not flipped
 1: spriteset_EMD_F9_BloodyNose_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BloodyNose_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_BloodyNose_B; // <- not flipped
 1: spriteset_EMD_F9_BloodyNose_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BloodyNose_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_BloodyNose_rear_flipcheck;
  spriteset_EMD_F9_BloodyNose_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_BloodyNose_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_BloodyNose_lead_flipcheck;
  switch_EMD_F9_BloodyNose_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_BloodyNose, 20664) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_BloodyNose_graphics;
        purchase: spriteset_EMD_F9_BloodyNose_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_TwoTone
spriteset(spriteset_EMD_F9_TwoTone_Purchase,   "gfx/EMD_FUnit_TwoTone.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_TwoTone_A,   "gfx/EMD_FUnit_TwoTone.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_TwoTone_B,   "gfx/EMD_FUnit_TwoTone.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoTone_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_TwoTone_A; // <- not flipped
 1: spriteset_EMD_F9_TwoTone_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoTone_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_TwoTone_B; // <- not flipped
 1: spriteset_EMD_F9_TwoTone_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoTone_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_TwoTone_rear_flipcheck;
  spriteset_EMD_F9_TwoTone_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoTone_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_TwoTone_lead_flipcheck;
  switch_EMD_F9_TwoTone_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_TwoTone, 20665) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_TwoTone_graphics;
        purchase: spriteset_EMD_F9_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_TwoToneClearCab
spriteset(spriteset_EMD_F9_TwoToneClearCab_Purchase,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_TwoToneClearCab_A,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_TwoToneClearCab_B,   "gfx/EMD_FUnit_TwoToneClearCab.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoToneClearCab_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_TwoToneClearCab_A; // <- not flipped
 1: spriteset_EMD_F9_TwoToneClearCab_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoToneClearCab_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_TwoToneClearCab_B; // <- not flipped
 1: spriteset_EMD_F9_TwoToneClearCab_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoToneClearCab_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_TwoToneClearCab_rear_flipcheck;
  spriteset_EMD_F9_TwoToneClearCab_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_TwoToneClearCab_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_TwoToneClearCab_lead_flipcheck;
  switch_EMD_F9_TwoToneClearCab_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_TwoToneClearCab, 20666) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_TwoToneClearCab_graphics;
        purchase: spriteset_EMD_F9_TwoToneClearCab_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_Warbonnet
spriteset(spriteset_EMD_F9_Warbonnet_Purchase,   "gfx/EMD_FUnit_Warbonnet.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_Warbonnet_A,   "gfx/EMD_FUnit_Warbonnet.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_Warbonnet_B,   "gfx/EMD_FUnit_Warbonnet.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Warbonnet_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Warbonnet_A; // <- not flipped
 1: spriteset_EMD_F9_Warbonnet_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Warbonnet_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Warbonnet_B; // <- not flipped
 1: spriteset_EMD_F9_Warbonnet_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Warbonnet_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_Warbonnet_rear_flipcheck;
  spriteset_EMD_F9_Warbonnet_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Warbonnet_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_Warbonnet_lead_flipcheck;
  switch_EMD_F9_Warbonnet_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_Warbonnet, 20669) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_Warbonnet_graphics;
        purchase: spriteset_EMD_F9_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_F9_Bonnet
spriteset(spriteset_EMD_F9_Bonnet_Purchase,   "gfx/EMD_FUnit_Bonnet.png") {template_purchase(367, 21)}

spriteset(spriteset_EMD_F9_Bonnet_A,   "gfx/EMD_FUnit_Bonnet.png") {template_7(367, 39)}
spriteset(spriteset_EMD_F9_Bonnet_B,   "gfx/EMD_FUnit_Bonnet.png") {template_7(367, 64)}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Bonnet_lead_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Bonnet_A; // <- not flipped
 1: spriteset_EMD_F9_Bonnet_B; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Bonnet_rear_flipcheck, vehicle_is_flipped) {
 0: spriteset_EMD_F9_Bonnet_B; // <- not flipped
 1: spriteset_EMD_F9_Bonnet_A; // <- flipped
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Bonnet_rear_position, position_in_vehid_chain_from_end) {
 0: switch_EMD_F9_Bonnet_rear_flipcheck;
  spriteset_EMD_F9_Bonnet_B;
}

switch(FEAT_TRAINS, SELF, switch_EMD_F9_Bonnet_graphics, position_in_vehid_chain) {
 0: switch_EMD_F9_Bonnet_lead_flipcheck;
  switch_EMD_F9_Bonnet_rear_position;
}

item(FEAT_TRAINS, Item_EMD_F9_Bonnet, 20670) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_F9);
        introduction_date:                date(1953,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            7;

        weight:                        105 ton;
        speed:                            105 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             88;
        cargo_capacity:                  0;

        variant_group: Item_EMD_F9_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_F9_Bonnet_graphics;
        purchase: spriteset_EMD_F9_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_F9);
}
}

//EMD_SDF40PH_DM
spriteset(spriteset_EMD_SDF40PH_DM_Purchase,   "gfx/EMD_SDP40F.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_SDF40PH_DM_Purchase_Pantograph,   "gfx/EMD_SDF40PH_DM_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM,   "gfx/EMD_SDP40F.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_r,   "gfx/EMD_SDP40F.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_SDF40PH_DM_Panto,   "gfx/EMD_SDF40PH_DM_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_SDF40PH_DM_Panto_r,   "gfx/EMD_SDF40PH_DM_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_SDF40PH_DM_PantoLowered,   "gfx/EMD_SDF40PH_DM_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_SDF40PH_DM_PantoLowered_r,   "gfx/EMD_SDF40PH_DM_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_SDF40PH_DM_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_SDF40PH_DM_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_SDF40PH_DM_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_SDF40PH_DM_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_SDF40PH_DM_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SDF40PH_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Panto_r;
  switch_EMD_SDF40PH_DM_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_PantoLowered_r;
  switch_EMD_SDF40PH_DM_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM, 25200) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

     //   variant_group: Item_EMD_SDF40PH_DM;
     //   extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_DualMode;
        purchase: switch_EMD_SDF40PH_DM_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_AmtrakPHI
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHI_Purchase,   "gfx/EMD_SDP40F_AmtrakPHI.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHI,   "gfx/EMD_SDP40F_AmtrakPHI.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHI_r,   "gfx/EMD_SDP40F_AmtrakPHI.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHI_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHI;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHI_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHI;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHI_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHI_Panto_r;
  switch_EMD_SDF40PH_DM_AmtrakPHI_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHI_PantoLowered_r;
  switch_EMD_SDF40PH_DM_AmtrakPHI_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHI_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_AmtrakPHI_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_AmtrakPHI_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_AmtrakPHI, 25211) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_AmtrakPHI_DualMode;
        purchase: switch_EMD_SDF40PH_DM_AmtrakPHI_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_AmtrakPHII
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHII_Purchase,   "gfx/EMD_SDP40F_AmtrakPHII.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHII,   "gfx/EMD_SDP40F_AmtrakPHII.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHII_r,   "gfx/EMD_SDP40F_AmtrakPHII.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHII_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHII;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHII_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHII;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHII_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHII_Panto_r;
  switch_EMD_SDF40PH_DM_AmtrakPHII_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHII_PantoLowered_r;
  switch_EMD_SDF40PH_DM_AmtrakPHII_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHII_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_AmtrakPHII_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_AmtrakPHII_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_AmtrakPHII, 25212) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_AmtrakPHII_DualMode;
        purchase: switch_EMD_SDF40PH_DM_AmtrakPHII_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_AmtrakPHIII
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHIII_Purchase,   "gfx/EMD_SDP40F_AmtrakPHIII.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHIII,   "gfx/EMD_SDP40F_AmtrakPHIII.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHIII_r,   "gfx/EMD_SDP40F_AmtrakPHIII.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIII_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIII;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIII_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIII;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIII_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHIII_Panto_r;
  switch_EMD_SDF40PH_DM_AmtrakPHIII_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHIII_PantoLowered_r;
  switch_EMD_SDF40PH_DM_AmtrakPHIII_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIII_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_AmtrakPHIII_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_AmtrakPHIII_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_AmtrakPHIII, 25213) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_AmtrakPHIII_DualMode;
        purchase: switch_EMD_SDF40PH_DM_AmtrakPHIII_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_AmtrakPHIV
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHIV_Purchase,   "gfx/EMD_SDP40F_AmtrakPHIV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHIV,   "gfx/EMD_SDP40F_AmtrakPHIV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHIV_r,   "gfx/EMD_SDP40F_AmtrakPHIV.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIV_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIV;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIV_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIV;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHIV_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHIV_Panto_r;
  switch_EMD_SDF40PH_DM_AmtrakPHIV_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHIV_PantoLowered_r;
  switch_EMD_SDF40PH_DM_AmtrakPHIV_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHIV_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_AmtrakPHIV_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_AmtrakPHIV_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_AmtrakPHIV, 25214) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_AmtrakPHIV_DualMode;
        purchase: switch_EMD_SDF40PH_DM_AmtrakPHIV_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_AmtrakPHV
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHV_Purchase,   "gfx/EMD_SDP40F_AmtrakPHV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHV,   "gfx/EMD_SDP40F_AmtrakPHV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_AmtrakPHV_r,   "gfx/EMD_SDP40F_AmtrakPHV.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHV_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHV;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHV_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHV;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_AmtrakPHV_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHV_Panto_r;
  switch_EMD_SDF40PH_DM_AmtrakPHV_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_AmtrakPHV_PantoLowered_r;
  switch_EMD_SDF40PH_DM_AmtrakPHV_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_AmtrakPHV_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_AmtrakPHV_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_AmtrakPHV_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_AmtrakPHV, 25215) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_AmtrakPHV_DualMode;
        purchase: switch_EMD_SDF40PH_DM_AmtrakPHV_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_Via70s
spriteset(spriteset_EMD_SDF40PH_DM_Via70s_Purchase,   "gfx/EMD_SDP40F_Via70s.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_Via70s,   "gfx/EMD_SDP40F_Via70s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_Via70s_r,   "gfx/EMD_SDP40F_Via70s.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via70s_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via70s;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via70s_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via70s;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via70s_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Via70s_Panto_r;
  switch_EMD_SDF40PH_DM_Via70s_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Via70s_PantoLowered_r;
  switch_EMD_SDF40PH_DM_Via70s_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via70s_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_Via70s_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_Via70s_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_Via70s, 25222) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_Via70s_DualMode;
        purchase: switch_EMD_SDF40PH_DM_Via70s_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_Via80s
spriteset(spriteset_EMD_SDF40PH_DM_Via80s_Purchase,   "gfx/EMD_SDP40F_Via80s.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_Via80s,   "gfx/EMD_SDP40F_Via80s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_Via80s_r,   "gfx/EMD_SDP40F_Via80s.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via80s_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via80s;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via80s_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via80s;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via80s_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Via80s_Panto_r;
  switch_EMD_SDF40PH_DM_Via80s_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Via80s_PantoLowered_r;
  switch_EMD_SDF40PH_DM_Via80s_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via80s_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_Via80s_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_Via80s_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_Via80s, 25223) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_Via80s_DualMode;
        purchase: switch_EMD_SDF40PH_DM_Via80s_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}

//EMD_SDF40PH_DM_Via2000s
spriteset(spriteset_EMD_SDF40PH_DM_Via2000s_Purchase,   "gfx/EMD_SDP40F_Via2000s.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_SDF40PH_DM_Via2000s,   "gfx/EMD_SDP40F_Via2000s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_SDF40PH_DM_Via2000s_r,   "gfx/EMD_SDP40F_Via2000s.png") {template_8_r(7, 39)}

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via2000s_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_SDF40PH_DM_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via2000s;
    1: spriteset_EMD_SDF40PH_DM_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via2000s_r;
    1: spriteset_EMD_SDF40PH_DM_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via2000s;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_SDF40PH_DM_Via2000s_r;
    1: spriteset_EMD_SDF40PH_DM_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Via2000s_Panto_r;
  switch_EMD_SDF40PH_DM_Via2000s_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_SDF40PH_DM_Via2000s_PantoLowered_r;
  switch_EMD_SDF40PH_DM_Via2000s_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_SDF40PH_DM_Via2000s_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_SDF40PH_DM_Via2000s_PantoLowered_position;
 1: switch_EMD_SDF40PH_DM_Via2000s_position;
}

item(FEAT_TRAINS, Item_EMD_SDF40PH_DM_Via2000s, 25224) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DIESEL;

        name:                            string(STR_NAME_EMD_SDF40PH_DM);
        introduction_date:                date(1977,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        170 ton;
        speed:                            100 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     19;
        running_cost_factor:             137;
        cargo_capacity:                  0;

        variant_group: Item_EMD_SDF40PH_DM_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_SDF40PH_DM_Via2000s_DualMode;
        purchase: switch_EMD_SDF40PH_DM_Via2000s_purchase_stack;
        power: switch_SDF40PH_DM_power_0;
        visual_effect_and_powered: switch_SDF40PH_DM_effect_spawn_model_and_powered;
        additional_text: switch_SDF40PH_DM_buy_menu_additional_text;
}
}



//EMD_FL9
spriteset(spriteset_EMD_FL9_Purchase,   "gfx/EMD_FL9.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9,   "gfx/EMD_FL9.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_r,   "gfx/EMD_FL9.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_r;
  spriteset_EMD_FL9;
}

item(FEAT_TRAINS, Item_EMD_FL9, 23000) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

     //   variant_group: Item_EMD_FL9;
     //   extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_position;
        purchase: spriteset_EMD_FL9_Purchase;
        power: switch_EMD_FL9_power_0;
        visual_effect_and_powered: switch_EMD_FL9_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_buy_menu_additional_text;
}
}

//EMD_FL9_NewHaven
spriteset(spriteset_EMD_FL9_NewHaven_Purchase,   "gfx/EMD_FL9_NewHaven.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_NewHaven,   "gfx/EMD_FL9_NewHaven.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_NewHaven_r,   "gfx/EMD_FL9_NewHaven.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_NewHaven_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_NewHaven_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_NewHaven_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_NewHaven_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_NewHaven_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_NewHaven_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_NewHaven_r;
  spriteset_EMD_FL9_NewHaven;
}

item(FEAT_TRAINS, Item_EMD_FL9_NewHaven, 23001) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_NewHaven_position;
        purchase: spriteset_EMD_FL9_NewHaven_Purchase;
        power: switch_EMD_FL9_NewHaven_power_0;
        visual_effect_and_powered: switch_EMD_FL9_NewHaven_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_NewHaven_buy_menu_additional_text;
}
}

//EMD_FL9_Conrail
spriteset(spriteset_EMD_FL9_Conrail_Purchase,   "gfx/EMD_FL9_Conrail.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_Conrail,   "gfx/EMD_FL9_Conrail.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_Conrail_r,   "gfx/EMD_FL9_Conrail.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_Conrail_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_Conrail_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_Conrail_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_Conrail_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_Conrail_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_Conrail_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_Conrail_r;
  spriteset_EMD_FL9_Conrail;
}

item(FEAT_TRAINS, Item_EMD_FL9_Conrail, 23002) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_Conrail_position;
        purchase: spriteset_EMD_FL9_Conrail_Purchase;
        power: switch_EMD_FL9_Conrail_power_0;
        visual_effect_and_powered: switch_EMD_FL9_Conrail_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_Conrail_buy_menu_additional_text;
}
}

//EMD_FL9_MetroNorth1
spriteset(spriteset_EMD_FL9_MetroNorth1_Purchase,   "gfx/EMD_FL9_MetroNorth1.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_MetroNorth1,   "gfx/EMD_FL9_MetroNorth1.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_MetroNorth1_r,   "gfx/EMD_FL9_MetroNorth1.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth1_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth1_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_MetroNorth1_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth1_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth1_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth1_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_MetroNorth1_r;
  spriteset_EMD_FL9_MetroNorth1;
}

item(FEAT_TRAINS, Item_EMD_FL9_MetroNorth1, 23003) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_MetroNorth1_position;
        purchase: spriteset_EMD_FL9_MetroNorth1_Purchase;
        power: switch_EMD_FL9_MetroNorth1_power_0;
        visual_effect_and_powered: switch_EMD_FL9_MetroNorth1_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_MetroNorth1_buy_menu_additional_text;
}
}

//EMD_FL9_MetroNorth2
spriteset(spriteset_EMD_FL9_MetroNorth2_Purchase,   "gfx/EMD_FL9_MetroNorth2.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_MetroNorth2,   "gfx/EMD_FL9_MetroNorth2.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_MetroNorth2_r,   "gfx/EMD_FL9_MetroNorth2.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth2_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth2_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_MetroNorth2_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth2_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth2_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_MetroNorth2_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_MetroNorth2_r;
  spriteset_EMD_FL9_MetroNorth2;
}

item(FEAT_TRAINS, Item_EMD_FL9_MetroNorth2, 23004) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_MetroNorth2_position;
        purchase: spriteset_EMD_FL9_MetroNorth2_Purchase;
        power: switch_EMD_FL9_MetroNorth2_power_0;
        visual_effect_and_powered: switch_EMD_FL9_MetroNorth2_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_MetroNorth2_buy_menu_additional_text;
}
}

//EMD_FL9_SRA
spriteset(spriteset_EMD_FL9_SRA_Purchase,   "gfx/EMD_FL9_SRA.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_SRA,   "gfx/EMD_FL9_SRA.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_SRA_r,   "gfx/EMD_FL9_SRA.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_SRA_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_SRA_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_SRA_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_SRA_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_SRA_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_SRA_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_SRA_r;
  spriteset_EMD_FL9_SRA;
}

item(FEAT_TRAINS, Item_EMD_FL9_SRA, 23005) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_SRA_position;
        purchase: spriteset_EMD_FL9_SRA_Purchase;
        power: switch_EMD_FL9_SRA_power_0;
        visual_effect_and_powered: switch_EMD_FL9_SRA_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_SRA_buy_menu_additional_text;
}
}

//EMD_FL9_AmtrakPHI
spriteset(spriteset_EMD_FL9_AmtrakPHI_Purchase,   "gfx/EMD_FL9_AmtrakPHI.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_AmtrakPHI,   "gfx/EMD_FL9_AmtrakPHI.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_AmtrakPHI_r,   "gfx/EMD_FL9_AmtrakPHI.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHI_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHI_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_AmtrakPHI_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHI_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHI_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHI_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_AmtrakPHI_r;
  spriteset_EMD_FL9_AmtrakPHI;
}

item(FEAT_TRAINS, Item_EMD_FL9_AmtrakPHI, 23011) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_AmtrakPHI_position;
        purchase: spriteset_EMD_FL9_AmtrakPHI_Purchase;
        power: switch_EMD_FL9_AmtrakPHI_power_0;
        visual_effect_and_powered: switch_EMD_FL9_AmtrakPHI_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_AmtrakPHI_buy_menu_additional_text;
}
}

//EMD_FL9_AmtrakPHIII
spriteset(spriteset_EMD_FL9_AmtrakPHIII_Purchase,   "gfx/EMD_FL9_AmtrakPHIII.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_AmtrakPHIII,   "gfx/EMD_FL9_AmtrakPHIII.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_AmtrakPHIII_r,   "gfx/EMD_FL9_AmtrakPHIII.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIII_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIII_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_AmtrakPHIII_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIII_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIII_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIII_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_AmtrakPHIII_r;
  spriteset_EMD_FL9_AmtrakPHIII;
}

item(FEAT_TRAINS, Item_EMD_FL9_AmtrakPHIII, 23013) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_AmtrakPHIII_position;
        purchase: spriteset_EMD_FL9_AmtrakPHIII_Purchase;
        power: switch_EMD_FL9_AmtrakPHIII_power_0;
        visual_effect_and_powered: switch_EMD_FL9_AmtrakPHIII_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_AmtrakPHIII_buy_menu_additional_text;
}
}

//EMD_FL9_AmtrakPHIV
spriteset(spriteset_EMD_FL9_AmtrakPHIV_Purchase,   "gfx/EMD_FL9_AmtrakPHIV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_AmtrakPHIV,   "gfx/EMD_FL9_AmtrakPHIV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_AmtrakPHIV_r,   "gfx/EMD_FL9_AmtrakPHIV.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIV_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIV_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_AmtrakPHIV_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIV_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIV_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHIV_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_AmtrakPHIV_r;
  spriteset_EMD_FL9_AmtrakPHIV;
}

item(FEAT_TRAINS, Item_EMD_FL9_AmtrakPHIV, 23014) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_AmtrakPHIV_position;
        purchase: spriteset_EMD_FL9_AmtrakPHIV_Purchase;
        power: switch_EMD_FL9_AmtrakPHIV_power_0;
        visual_effect_and_powered: switch_EMD_FL9_AmtrakPHIV_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_AmtrakPHIV_buy_menu_additional_text;
}
}

//EMD_FL9_AmtrakPHV
spriteset(spriteset_EMD_FL9_AmtrakPHV_Purchase,   "gfx/EMD_FL9_AmtrakPHV.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_FL9_AmtrakPHV,   "gfx/EMD_FL9_AmtrakPHV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_FL9_AmtrakPHV_r,   "gfx/EMD_FL9_AmtrakPHV.png") {template_8_r(7, 39)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHV_power_1, tile_powers_railtype("RAIL")) {
            1: return 1750;
        }
        switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHV_power_0, tile_powers_railtype("SAA3")) {
            1: return 1800;
                return switch_EMD_FL9_AmtrakPHV_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHV_effect_spawn_model_and_powered, [tile_powers_railtype("SAA3")]) {
            1: return VISUAL_EFFECT_DISABLE;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHV_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (1750 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_3RAIL)
                    | (1800 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_FL9));
        }

switch(FEAT_TRAINS, SELF, switch_EMD_FL9_AmtrakPHV_position, position_in_vehid_chain % 2) {
 1: spriteset_EMD_FL9_AmtrakPHV_r;
  spriteset_EMD_FL9_AmtrakPHV;
}

item(FEAT_TRAINS, Item_EMD_FL9_AmtrakPHV, 23015) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_FL9);
        introduction_date:                date(1956,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        130 ton;
        speed:                            90 mph;
        power:                            1750 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     11;
        running_cost_factor:             95;
        cargo_capacity:                  0;

        variant_group: Item_EMD_FL9_AmtrakPHI;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_FL9_AmtrakPHV_position;
        purchase: spriteset_EMD_FL9_AmtrakPHV_Purchase;
        power: switch_EMD_FL9_AmtrakPHV_power_0;
        visual_effect_and_powered: switch_EMD_FL9_AmtrakPHV_effect_spawn_model_and_powered;
        additional_text: switch_EMD_FL9_AmtrakPHV_buy_menu_additional_text;
}
}

//EMD_DM_SD40
spriteset(spriteset_EMD_DM_SD40_Purchase,   "gfx/EMD_SD40.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40,   "gfx/EMD_SD40.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_r,   "gfx/EMD_SD40.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40;
    1: spriteset_EMD_DM_SD40_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_r;
    1: spriteset_EMD_DM_SD40_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40;
    1: spriteset_EMD_DM_SD40_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_r;
    1: spriteset_EMD_DM_SD40_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Panto_r;
  switch_EMD_DM_SD40_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_PantoLowered_r;
  switch_EMD_DM_SD40_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_PantoLowered_position;
 1: switch_EMD_DM_SD40_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40, 27200) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

     //   variant_group: Item_EMD_DM_SD40;
     //   extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_DualMode;
        purchase: switch_EMD_DM_SD40_purchase_stack;
        power: switch_DM_SD40_power_0;
        visual_effect_and_powered: switch_DM_SD40_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_buy_menu_additional_text;
}
}

//EMD_DM_SD40_Basic
spriteset(spriteset_EMD_DM_SD40_Basic_Purchase,   "gfx/EMD_SD40_Basic.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_Basic_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_Basic,   "gfx/EMD_SD40_Basic.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_Basic_r,   "gfx/EMD_SD40_Basic.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_Basic_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Basic_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Basic_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_Basic_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Basic_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_Basic_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_Basic_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Basic_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Basic_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Basic_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_Basic_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Basic;
    1: spriteset_EMD_DM_SD40_Basic_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Basic_r;
    1: spriteset_EMD_DM_SD40_Basic_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Basic;
    1: spriteset_EMD_DM_SD40_Basic_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Basic_r;
    1: spriteset_EMD_DM_SD40_Basic_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Basic_Panto_r;
  switch_EMD_DM_SD40_Basic_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Basic_PantoLowered_r;
  switch_EMD_DM_SD40_Basic_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Basic_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_Basic_PantoLowered_position;
 1: switch_EMD_DM_SD40_Basic_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_Basic, 27211) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_Basic_DualMode;
        purchase: switch_EMD_DM_SD40_Basic_purchase_stack;
        power: switch_DM_SD40_Basic_power_0;
        visual_effect_and_powered: switch_DM_SD40_Basic_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_Basic_buy_menu_additional_text;
}
}

//EMD_DM_SD40_Wings
spriteset(spriteset_EMD_DM_SD40_Wings_Purchase,   "gfx/EMD_SD40_Wings.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_Wings_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_Wings,   "gfx/EMD_SD40_Wings.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_Wings_r,   "gfx/EMD_SD40_Wings.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_Wings_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Wings_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Wings_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_Wings_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Wings_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_Wings_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_Wings_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Wings_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Wings_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Wings_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_Wings_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Wings;
    1: spriteset_EMD_DM_SD40_Wings_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Wings_r;
    1: spriteset_EMD_DM_SD40_Wings_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Wings;
    1: spriteset_EMD_DM_SD40_Wings_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Wings_r;
    1: spriteset_EMD_DM_SD40_Wings_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Wings_Panto_r;
  switch_EMD_DM_SD40_Wings_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Wings_PantoLowered_r;
  switch_EMD_DM_SD40_Wings_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Wings_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_Wings_PantoLowered_position;
 1: switch_EMD_DM_SD40_Wings_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_Wings, 27212) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_Wings_DualMode;
        purchase: switch_EMD_DM_SD40_Wings_purchase_stack;
        power: switch_DM_SD40_Wings_power_0;
        visual_effect_and_powered: switch_DM_SD40_Wings_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_Wings_buy_menu_additional_text;
}
}

//EMD_DM_SD40_Stripe
spriteset(spriteset_EMD_DM_SD40_Stripe_Purchase,   "gfx/EMD_SD40_Stripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_Stripe_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_Stripe,   "gfx/EMD_SD40_Stripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_Stripe_r,   "gfx/EMD_SD40_Stripe.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_Stripe_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Stripe_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Stripe_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_Stripe_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Stripe_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_Stripe_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_Stripe_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Stripe_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Stripe_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Stripe_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_Stripe_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Stripe;
    1: spriteset_EMD_DM_SD40_Stripe_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Stripe_r;
    1: spriteset_EMD_DM_SD40_Stripe_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Stripe;
    1: spriteset_EMD_DM_SD40_Stripe_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Stripe_r;
    1: spriteset_EMD_DM_SD40_Stripe_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Stripe_Panto_r;
  switch_EMD_DM_SD40_Stripe_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Stripe_PantoLowered_r;
  switch_EMD_DM_SD40_Stripe_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Stripe_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_Stripe_PantoLowered_position;
 1: switch_EMD_DM_SD40_Stripe_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_Stripe, 27213) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_Stripe_DualMode;
        purchase: switch_EMD_DM_SD40_Stripe_purchase_stack;
        power: switch_DM_SD40_Stripe_power_0;
        visual_effect_and_powered: switch_DM_SD40_Stripe_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_Stripe_buy_menu_additional_text;
}
}

//EMD_DM_SD40_HazardNoses
spriteset(spriteset_EMD_DM_SD40_HazardNoses_Purchase,   "gfx/EMD_SD40_HazardNoses.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_HazardNoses_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_HazardNoses,   "gfx/EMD_SD40_HazardNoses.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_HazardNoses_r,   "gfx/EMD_SD40_HazardNoses.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_HazardNoses_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_HazardNoses_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_HazardNoses_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_HazardNoses_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardNoses_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardNoses_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_HazardNoses_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardNoses_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardNoses_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardNoses_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_HazardNoses_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardNoses;
    1: spriteset_EMD_DM_SD40_HazardNoses_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardNoses_r;
    1: spriteset_EMD_DM_SD40_HazardNoses_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardNoses;
    1: spriteset_EMD_DM_SD40_HazardNoses_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardNoses_r;
    1: spriteset_EMD_DM_SD40_HazardNoses_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_HazardNoses_Panto_r;
  switch_EMD_DM_SD40_HazardNoses_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_HazardNoses_PantoLowered_r;
  switch_EMD_DM_SD40_HazardNoses_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardNoses_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_HazardNoses_PantoLowered_position;
 1: switch_EMD_DM_SD40_HazardNoses_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_HazardNoses, 27214) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_HazardNoses_DualMode;
        purchase: switch_EMD_DM_SD40_HazardNoses_purchase_stack;
        power: switch_DM_SD40_HazardNoses_power_0;
        visual_effect_and_powered: switch_DM_SD40_HazardNoses_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_HazardNoses_buy_menu_additional_text;
}
}

//EMD_DM_SD40_HazardandBlack
spriteset(spriteset_EMD_DM_SD40_HazardandBlack_Purchase,   "gfx/EMD_SD40_HazardandBlack.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_HazardandBlack_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_HazardandBlack,   "gfx/EMD_SD40_HazardandBlack.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_HazardandBlack_r,   "gfx/EMD_SD40_HazardandBlack.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_HazardandBlack_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_HazardandBlack_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_HazardandBlack_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_HazardandBlack_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardandBlack_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardandBlack_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_HazardandBlack_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardandBlack_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_HazardandBlack_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardandBlack_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_HazardandBlack_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardandBlack;
    1: spriteset_EMD_DM_SD40_HazardandBlack_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardandBlack_r;
    1: spriteset_EMD_DM_SD40_HazardandBlack_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardandBlack;
    1: spriteset_EMD_DM_SD40_HazardandBlack_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_HazardandBlack_r;
    1: spriteset_EMD_DM_SD40_HazardandBlack_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_HazardandBlack_Panto_r;
  switch_EMD_DM_SD40_HazardandBlack_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_HazardandBlack_PantoLowered_r;
  switch_EMD_DM_SD40_HazardandBlack_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_HazardandBlack_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_HazardandBlack_PantoLowered_position;
 1: switch_EMD_DM_SD40_HazardandBlack_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_HazardandBlack, 27215) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_HazardandBlack_DualMode;
        purchase: switch_EMD_DM_SD40_HazardandBlack_purchase_stack;
        power: switch_DM_SD40_HazardandBlack_power_0;
        visual_effect_and_powered: switch_DM_SD40_HazardandBlack_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_HazardandBlack_buy_menu_additional_text;
}
}

//EMD_DM_SD40_ColouredCaps
spriteset(spriteset_EMD_DM_SD40_ColouredCaps_Purchase,   "gfx/EMD_SD40_ColouredCaps.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_ColouredCaps_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_ColouredCaps,   "gfx/EMD_SD40_ColouredCaps.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_ColouredCaps_r,   "gfx/EMD_SD40_ColouredCaps.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_ColouredCaps_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_ColouredCaps_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_ColouredCaps_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_ColouredCaps_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCaps_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCaps_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_ColouredCaps_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCaps_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCaps_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCaps_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_ColouredCaps_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCaps;
    1: spriteset_EMD_DM_SD40_ColouredCaps_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCaps_r;
    1: spriteset_EMD_DM_SD40_ColouredCaps_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCaps;
    1: spriteset_EMD_DM_SD40_ColouredCaps_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCaps_r;
    1: spriteset_EMD_DM_SD40_ColouredCaps_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_ColouredCaps_Panto_r;
  switch_EMD_DM_SD40_ColouredCaps_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_ColouredCaps_PantoLowered_r;
  switch_EMD_DM_SD40_ColouredCaps_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCaps_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_ColouredCaps_PantoLowered_position;
 1: switch_EMD_DM_SD40_ColouredCaps_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_ColouredCaps, 27216) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_ColouredCaps_DualMode;
        purchase: switch_EMD_DM_SD40_ColouredCaps_purchase_stack;
        power: switch_DM_SD40_ColouredCaps_power_0;
        visual_effect_and_powered: switch_DM_SD40_ColouredCaps_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_ColouredCaps_buy_menu_additional_text;
}
}

//EMD_DM_SD40_ColouredNoses
spriteset(spriteset_EMD_DM_SD40_ColouredNoses_Purchase,   "gfx/EMD_SD40_ColouredNoses.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_ColouredNoses_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_ColouredNoses,   "gfx/EMD_SD40_ColouredNoses.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_ColouredNoses_r,   "gfx/EMD_SD40_ColouredNoses.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_ColouredNoses_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_ColouredNoses_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_ColouredNoses_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_ColouredNoses_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredNoses_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredNoses_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_ColouredNoses_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredNoses_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredNoses_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredNoses_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_ColouredNoses_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredNoses;
    1: spriteset_EMD_DM_SD40_ColouredNoses_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredNoses_r;
    1: spriteset_EMD_DM_SD40_ColouredNoses_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredNoses;
    1: spriteset_EMD_DM_SD40_ColouredNoses_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredNoses_r;
    1: spriteset_EMD_DM_SD40_ColouredNoses_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_ColouredNoses_Panto_r;
  switch_EMD_DM_SD40_ColouredNoses_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_ColouredNoses_PantoLowered_r;
  switch_EMD_DM_SD40_ColouredNoses_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredNoses_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_ColouredNoses_PantoLowered_position;
 1: switch_EMD_DM_SD40_ColouredNoses_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_ColouredNoses, 27217) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_ColouredNoses_DualMode;
        purchase: switch_EMD_DM_SD40_ColouredNoses_purchase_stack;
        power: switch_DM_SD40_ColouredNoses_power_0;
        visual_effect_and_powered: switch_DM_SD40_ColouredNoses_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_ColouredNoses_buy_menu_additional_text;
}
}

//EMD_DM_SD40_TwoTone
spriteset(spriteset_EMD_DM_SD40_TwoTone_Purchase,   "gfx/EMD_SD40_TwoTone.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_TwoTone_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_TwoTone,   "gfx/EMD_SD40_TwoTone.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_TwoTone_r,   "gfx/EMD_SD40_TwoTone.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_TwoTone_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_TwoTone_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_TwoTone_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_TwoTone_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoTone_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoTone_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_TwoTone_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoTone_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoTone_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoTone_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_TwoTone_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoTone;
    1: spriteset_EMD_DM_SD40_TwoTone_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoTone_r;
    1: spriteset_EMD_DM_SD40_TwoTone_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoTone;
    1: spriteset_EMD_DM_SD40_TwoTone_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoTone_r;
    1: spriteset_EMD_DM_SD40_TwoTone_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_TwoTone_Panto_r;
  switch_EMD_DM_SD40_TwoTone_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_TwoTone_PantoLowered_r;
  switch_EMD_DM_SD40_TwoTone_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoTone_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_TwoTone_PantoLowered_position;
 1: switch_EMD_DM_SD40_TwoTone_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_TwoTone, 27218) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_TwoTone_DualMode;
        purchase: switch_EMD_DM_SD40_TwoTone_purchase_stack;
        power: switch_DM_SD40_TwoTone_power_0;
        visual_effect_and_powered: switch_DM_SD40_TwoTone_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_TwoTone_buy_menu_additional_text;
}
}

//EMD_DM_SD40_TwoToneandCab
spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_Purchase,   "gfx/EMD_SD40_TwoToneandCab.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_TwoToneandCab,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_r,   "gfx/EMD_SD40_TwoToneandCab.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_TwoToneandCab_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneandCab_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneandCab_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_TwoToneandCab_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneandCab_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneandCab_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneandCab_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_TwoToneandCab_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneandCab;
    1: spriteset_EMD_DM_SD40_TwoToneandCab_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneandCab_r;
    1: spriteset_EMD_DM_SD40_TwoToneandCab_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneandCab;
    1: spriteset_EMD_DM_SD40_TwoToneandCab_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneandCab_r;
    1: spriteset_EMD_DM_SD40_TwoToneandCab_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_TwoToneandCab_Panto_r;
  switch_EMD_DM_SD40_TwoToneandCab_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_TwoToneandCab_PantoLowered_r;
  switch_EMD_DM_SD40_TwoToneandCab_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneandCab_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_TwoToneandCab_PantoLowered_position;
 1: switch_EMD_DM_SD40_TwoToneandCab_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_TwoToneandCab, 27219) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_TwoToneandCab_DualMode;
        purchase: switch_EMD_DM_SD40_TwoToneandCab_purchase_stack;
        power: switch_DM_SD40_TwoToneandCab_power_0;
        visual_effect_and_powered: switch_DM_SD40_TwoToneandCab_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_TwoToneandCab_buy_menu_additional_text;
}
}

//EMD_DM_SD40_BigSkyBlue
spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_Purchase,   "gfx/EMD_SD40_BigSkyBlue.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_BigSkyBlue,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_r,   "gfx/EMD_SD40_BigSkyBlue.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_BigSkyBlue_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_BigSkyBlue_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_BigSkyBlue_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_BigSkyBlue_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_BigSkyBlue_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_BigSkyBlue_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BigSkyBlue_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_BigSkyBlue_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BigSkyBlue;
    1: spriteset_EMD_DM_SD40_BigSkyBlue_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BigSkyBlue_r;
    1: spriteset_EMD_DM_SD40_BigSkyBlue_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BigSkyBlue;
    1: spriteset_EMD_DM_SD40_BigSkyBlue_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BigSkyBlue_r;
    1: spriteset_EMD_DM_SD40_BigSkyBlue_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_BigSkyBlue_Panto_r;
  switch_EMD_DM_SD40_BigSkyBlue_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_BigSkyBlue_PantoLowered_r;
  switch_EMD_DM_SD40_BigSkyBlue_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BigSkyBlue_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_BigSkyBlue_PantoLowered_position;
 1: switch_EMD_DM_SD40_BigSkyBlue_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_BigSkyBlue, 27220) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_BigSkyBlue_DualMode;
        purchase: switch_EMD_DM_SD40_BigSkyBlue_purchase_stack;
        power: switch_DM_SD40_BigSkyBlue_power_0;
        visual_effect_and_powered: switch_DM_SD40_BigSkyBlue_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_BigSkyBlue_buy_menu_additional_text;
}
}

//EMD_DM_SD40_ColouredCab
spriteset(spriteset_EMD_DM_SD40_ColouredCab_Purchase,   "gfx/EMD_SD40_ColouredCab.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_ColouredCab_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_ColouredCab,   "gfx/EMD_SD40_ColouredCab.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_ColouredCab_r,   "gfx/EMD_SD40_ColouredCab.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_ColouredCab_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_ColouredCab_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_ColouredCab_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_ColouredCab_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCab_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCab_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_ColouredCab_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCab_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_ColouredCab_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCab_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_ColouredCab_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCab;
    1: spriteset_EMD_DM_SD40_ColouredCab_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCab_r;
    1: spriteset_EMD_DM_SD40_ColouredCab_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCab;
    1: spriteset_EMD_DM_SD40_ColouredCab_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_ColouredCab_r;
    1: spriteset_EMD_DM_SD40_ColouredCab_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_ColouredCab_Panto_r;
  switch_EMD_DM_SD40_ColouredCab_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_ColouredCab_PantoLowered_r;
  switch_EMD_DM_SD40_ColouredCab_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_ColouredCab_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_ColouredCab_PantoLowered_position;
 1: switch_EMD_DM_SD40_ColouredCab_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_ColouredCab, 27221) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_ColouredCab_DualMode;
        purchase: switch_EMD_DM_SD40_ColouredCab_purchase_stack;
        power: switch_DM_SD40_ColouredCab_power_0;
        visual_effect_and_powered: switch_DM_SD40_ColouredCab_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_ColouredCab_buy_menu_additional_text;
}
}

//EMD_DM_SD40_TwoToneBodyStripe
spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_Purchase,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_r,   "gfx/EMD_SD40_TwoToneBodyStripe.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneBodyStripe_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneBodyStripe_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_TwoToneBodyStripe_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneBodyStripe_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_TwoToneBodyStripe_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneBodyStripe_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_TwoToneBodyStripe_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneBodyStripe;
    1: spriteset_EMD_DM_SD40_TwoToneBodyStripe_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneBodyStripe_r;
    1: spriteset_EMD_DM_SD40_TwoToneBodyStripe_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneBodyStripe;
    1: spriteset_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_TwoToneBodyStripe_r;
    1: spriteset_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_TwoToneBodyStripe_Panto_r;
  switch_EMD_DM_SD40_TwoToneBodyStripe_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered_r;
  switch_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_TwoToneBodyStripe_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_TwoToneBodyStripe_PantoLowered_position;
 1: switch_EMD_DM_SD40_TwoToneBodyStripe_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_TwoToneBodyStripe, 27222) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_TwoToneBodyStripe_DualMode;
        purchase: switch_EMD_DM_SD40_TwoToneBodyStripe_purchase_stack;
        power: switch_DM_SD40_TwoToneBodyStripe_power_0;
        visual_effect_and_powered: switch_DM_SD40_TwoToneBodyStripe_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_TwoToneBodyStripe_buy_menu_additional_text;
}
}

//EMD_DM_SD40_LowBodyStripe
spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_Purchase,   "gfx/EMD_SD40_LowBodyStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_LowBodyStripe,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_r,   "gfx/EMD_SD40_LowBodyStripe.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_LowBodyStripe_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_LowBodyStripe_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_LowBodyStripe_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_LowBodyStripe_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_LowBodyStripe_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_LowBodyStripe_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_LowBodyStripe_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_LowBodyStripe_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_LowBodyStripe;
    1: spriteset_EMD_DM_SD40_LowBodyStripe_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_LowBodyStripe_r;
    1: spriteset_EMD_DM_SD40_LowBodyStripe_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_LowBodyStripe;
    1: spriteset_EMD_DM_SD40_LowBodyStripe_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_LowBodyStripe_r;
    1: spriteset_EMD_DM_SD40_LowBodyStripe_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_LowBodyStripe_Panto_r;
  switch_EMD_DM_SD40_LowBodyStripe_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_LowBodyStripe_PantoLowered_r;
  switch_EMD_DM_SD40_LowBodyStripe_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_LowBodyStripe_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_LowBodyStripe_PantoLowered_position;
 1: switch_EMD_DM_SD40_LowBodyStripe_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_LowBodyStripe, 27223) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_LowBodyStripe_DualMode;
        purchase: switch_EMD_DM_SD40_LowBodyStripe_purchase_stack;
        power: switch_DM_SD40_LowBodyStripe_power_0;
        visual_effect_and_powered: switch_DM_SD40_LowBodyStripe_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_LowBodyStripe_buy_menu_additional_text;
}
}

//EMD_DM_SD40_BodyStripeandBlack
spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_Purchase,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_r,   "gfx/EMD_SD40_BodyStripeandBlack.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_BodyStripeandBlack_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_BodyStripeandBlack_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_BodyStripeandBlack_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_BodyStripeandBlack_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_BodyStripeandBlack_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_BodyStripeandBlack_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BodyStripeandBlack_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_BodyStripeandBlack_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BodyStripeandBlack;
    1: spriteset_EMD_DM_SD40_BodyStripeandBlack_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BodyStripeandBlack_r;
    1: spriteset_EMD_DM_SD40_BodyStripeandBlack_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BodyStripeandBlack;
    1: spriteset_EMD_DM_SD40_BodyStripeandBlack_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_BodyStripeandBlack_r;
    1: spriteset_EMD_DM_SD40_BodyStripeandBlack_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_BodyStripeandBlack_Panto_r;
  switch_EMD_DM_SD40_BodyStripeandBlack_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_BodyStripeandBlack_PantoLowered_r;
  switch_EMD_DM_SD40_BodyStripeandBlack_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_BodyStripeandBlack_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_BodyStripeandBlack_PantoLowered_position;
 1: switch_EMD_DM_SD40_BodyStripeandBlack_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_BodyStripeandBlack, 27224) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_BodyStripeandBlack_DualMode;
        purchase: switch_EMD_DM_SD40_BodyStripeandBlack_purchase_stack;
        power: switch_DM_SD40_BodyStripeandBlack_power_0;
        visual_effect_and_powered: switch_DM_SD40_BodyStripeandBlack_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_BodyStripeandBlack_buy_menu_additional_text;
}
}

//EMD_DM_SD40_Warbonnet
spriteset(spriteset_EMD_DM_SD40_Warbonnet_Purchase,   "gfx/EMD_SD40_Warbonnet.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_Warbonnet_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_Warbonnet,   "gfx/EMD_SD40_Warbonnet.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_Warbonnet_r,   "gfx/EMD_SD40_Warbonnet.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_Warbonnet_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Warbonnet_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Warbonnet_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_Warbonnet_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Warbonnet_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_Warbonnet_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_Warbonnet_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Warbonnet_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Warbonnet_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Warbonnet_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_Warbonnet_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Warbonnet;
    1: spriteset_EMD_DM_SD40_Warbonnet_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Warbonnet_r;
    1: spriteset_EMD_DM_SD40_Warbonnet_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Warbonnet;
    1: spriteset_EMD_DM_SD40_Warbonnet_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Warbonnet_r;
    1: spriteset_EMD_DM_SD40_Warbonnet_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Warbonnet_Panto_r;
  switch_EMD_DM_SD40_Warbonnet_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Warbonnet_PantoLowered_r;
  switch_EMD_DM_SD40_Warbonnet_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Warbonnet_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_Warbonnet_PantoLowered_position;
 1: switch_EMD_DM_SD40_Warbonnet_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_Warbonnet, 27225) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_Warbonnet_DualMode;
        purchase: switch_EMD_DM_SD40_Warbonnet_purchase_stack;
        power: switch_DM_SD40_Warbonnet_power_0;
        visual_effect_and_powered: switch_DM_SD40_Warbonnet_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_Warbonnet_buy_menu_additional_text;
}
}

//EMD_DM_SD40_Bonnet
spriteset(spriteset_EMD_DM_SD40_Bonnet_Purchase,   "gfx/EMD_SD40_Bonnet.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_Bonnet_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_Bonnet,   "gfx/EMD_SD40_Bonnet.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_Bonnet_r,   "gfx/EMD_SD40_Bonnet.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_Bonnet_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Bonnet_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_Bonnet_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_Bonnet_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Bonnet_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_Bonnet_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_Bonnet_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Bonnet_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_Bonnet_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Bonnet_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_Bonnet_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Bonnet;
    1: spriteset_EMD_DM_SD40_Bonnet_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Bonnet_r;
    1: spriteset_EMD_DM_SD40_Bonnet_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Bonnet;
    1: spriteset_EMD_DM_SD40_Bonnet_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_Bonnet_r;
    1: spriteset_EMD_DM_SD40_Bonnet_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Bonnet_Panto_r;
  switch_EMD_DM_SD40_Bonnet_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_Bonnet_PantoLowered_r;
  switch_EMD_DM_SD40_Bonnet_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_Bonnet_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_Bonnet_PantoLowered_position;
 1: switch_EMD_DM_SD40_Bonnet_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_Bonnet, 27226) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_Bonnet_DualMode;
        purchase: switch_EMD_DM_SD40_Bonnet_purchase_stack;
        power: switch_DM_SD40_Bonnet_power_0;
        visual_effect_and_powered: switch_DM_SD40_Bonnet_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_Bonnet_buy_menu_additional_text;
}
}

//EMD_DM_SD40_GrayandStripe
spriteset(spriteset_EMD_DM_SD40_GrayandStripe_Purchase,   "gfx/EMD_SD40_GrayandStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_DM_SD40_GrayandStripe_Purchase_Pantograph,   "gfx/EMD_DM_SD40_Pantographs.png") {template_purchase(7, 21)}

spriteset(spriteset_EMD_DM_SD40_GrayandStripe,   "gfx/EMD_SD40_GrayandStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab
spriteset(spriteset_EMD_DM_SD40_GrayandStripe_r,   "gfx/EMD_SD40_GrayandStripe.png") {template_8_r(7, 39)}

spriteset(spriteset_EMD_DM_SD40_GrayandStripe_Panto,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 39)}
spriteset(spriteset_EMD_DM_SD40_GrayandStripe_Panto_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 39)}
spriteset(spriteset_EMD_DM_SD40_GrayandStripe_PantoLowered,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8(7, 64)}
spriteset(spriteset_EMD_DM_SD40_GrayandStripe_PantoLowered_r,   "gfx/EMD_DM_SD40_Pantographs.png") {template_8_r(7, 64)}

//Change power output based on rail type
switch (FEAT_TRAINS, SELF, switch_DM_SD40_GrayandStripe_power_1, tile_powers_railtype("RAIL")) {
            1: return 3000;
        }
        switch (FEAT_TRAINS, SELF, switch_DM_SD40_GrayandStripe_power_0, tile_powers_railtype("ELRL")) {
            1: return 3600;
                return switch_DM_SD40_GrayandStripe_power_1;
        }

//Change effects based on railtype
switch (FEAT_TRAINS, SELF, switch_DM_SD40_GrayandStripe_effect_spawn_model_and_powered, [tile_powers_railtype("ELRL")]) {
            1: return VISUAL_EFFECT_ELECTRIC;
            return VISUAL_EFFECT_DIESEL;
        }

//Power Language File Switch
switch (FEAT_TRAINS, SELF, switch_DM_SD40_GrayandStripe_buy_menu_additional_text, [
                STORE_TEMP(
                    string(STR_POWER_SOURCE_DIESEL)
                    | (3000 << 16),
                    0x100
                ),
                STORE_TEMP(
                    string(STR_POWER_SOURCE_OHLE)
                    | (3600 << 16),
                    0x101
                ),
        ]) {
            return string(STR_BUY_MENU_ADDITIONAL_TEXT_WRAPPER_TWO_SUBSTR, string(STR_POWER_BY_POWER_SOURCE_TWO_SOURCES), string(STR_INFO_EMD_SD40_DM));
        }

//Purchase Sprite Stacker
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_purchase_stack, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_GrayandStripe_Purchase;    // Return the NEW FLIP CHECK
    1: spriteset_EMD_DM_SD40_GrayandStripe_Purchase_Pantograph;    // Return the overlay
}

//Forward Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_Panto, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_GrayandStripe;
    1: spriteset_EMD_DM_SD40_GrayandStripe_Panto;
}

//Reversed Pantograph Raised
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_Panto_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_GrayandStripe_r;
    1: spriteset_EMD_DM_SD40_GrayandStripe_Panto_r;    // Return the overlay
}

//Forward Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_PantoLowered, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_GrayandStripe;
    1: spriteset_EMD_DM_SD40_GrayandStripe_PantoLowered;
}

//Reversed Pantograph Lowered
switch (FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_PantoLowered_r, [
    STORE_TEMP((getbits(extra_callback_info1, 8, 8) < 1 ? CB_FLAG_MORE_SPRITES : 0) | PALETTE_USE_DEFAULT, 0x100),
    getbits(extra_callback_info1, 8, 8)
    ]) {
    0: spriteset_EMD_DM_SD40_GrayandStripe_r;
    1: spriteset_EMD_DM_SD40_GrayandStripe_PantoLowered_r;    // Return the overlay
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_GrayandStripe_Panto_r;
  switch_EMD_DM_SD40_GrayandStripe_Panto;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_PantoLowered_position, position_in_vehid_chain % 2) {
 1: switch_EMD_DM_SD40_GrayandStripe_PantoLowered_r;
  switch_EMD_DM_SD40_GrayandStripe_PantoLowered;
}

switch(FEAT_TRAINS, SELF, switch_EMD_DM_SD40_GrayandStripe_DualMode, tile_powers_railtype("ELRL")) {
 0: switch_EMD_DM_SD40_GrayandStripe_PantoLowered_position;
 1: switch_EMD_DM_SD40_GrayandStripe_position;
}

item(FEAT_TRAINS, Item_EMD_DM_SD40_GrayandStripe, 27227) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        RAIL;
        running_cost_base:                RUNNING_COST_DIESEL;
        engine_class:                     ENGINE_CLASS_DIESEL;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_DEFAULT;

        name:                            string(STR_NAME_EMD_SD40_DM);
        introduction_date:                date(1976,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        169 ton;
        speed:                            65 mph;
        power:                            3000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     17;
        running_cost_factor:             132;
        cargo_capacity:                  0;

        variant_group: Item_EMD_DM_SD40;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: switch_EMD_DM_SD40_GrayandStripe_DualMode;
        purchase: switch_EMD_DM_SD40_GrayandStripe_purchase_stack;
        power: switch_DM_SD40_GrayandStripe_power_0;
        visual_effect_and_powered: switch_DM_SD40_GrayandStripe_effect_spawn_model_and_powered;
        additional_text: switch_DM_SD40_GrayandStripe_buy_menu_additional_text;
}
}

//EMD_JF6C
spriteset(spriteset_EMD_JF6C_Purchase,   "gfx/EMD_JF6C.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C,   "gfx/EMD_JF6C.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C, 51800) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

     //   variant_group: Item_EMD_JF6C;
     //   extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C;
        purchase: spriteset_EMD_JF6C_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_AmtrakPHIII
spriteset(spriteset_EMD_JF6C_AmtrakPHIII_Purchase,   "gfx/EMD_JF6C_AmtrakPHIII.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_AmtrakPHIII,   "gfx/EMD_JF6C_AmtrakPHIII.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_AmtrakPHIII, 51813) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_AmtrakPHIII;
        purchase: spriteset_EMD_JF6C_AmtrakPHIII_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_AmtrakPHIV
spriteset(spriteset_EMD_JF6C_AmtrakPHIV_Purchase,   "gfx/EMD_JF6C_AmtrakPHIV.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_AmtrakPHIV,   "gfx/EMD_JF6C_AmtrakPHIV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_AmtrakPHIV, 51814) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_AmtrakPHIII;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_AmtrakPHIV;
        purchase: spriteset_EMD_JF6C_AmtrakPHIV_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_AmtrakPHV
spriteset(spriteset_EMD_JF6C_AmtrakPHV_Purchase,   "gfx/EMD_JF6C_AmtrakPHV.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_AmtrakPHV,   "gfx/EMD_JF6C_AmtrakPHV.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_AmtrakPHV, 51815) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_AmtrakPHIII;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_AmtrakPHV;
        purchase: spriteset_EMD_JF6C_AmtrakPHV_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_AmtrakCalifornia
spriteset(spriteset_EMD_JF6C_AmtrakCalifornia_Purchase,   "gfx/EMD_JF6C_AmtrakCalifornia.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_AmtrakCalifornia,   "gfx/EMD_JF6C_AmtrakCalifornia.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_AmtrakCalifornia, 51817) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_AmtrakPHIII;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_AmtrakCalifornia;
        purchase: spriteset_EMD_JF6C_AmtrakCalifornia_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_Via80s
spriteset(spriteset_EMD_JF6C_Via80s_Purchase,   "gfx/EMD_JF6C_Via80s.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_Via80s,   "gfx/EMD_JF6C_Via80s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_Via80s, 51823) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_AmtrakPHIII;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_Via80s;
        purchase: spriteset_EMD_JF6C_Via80s_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_Via2000s
spriteset(spriteset_EMD_JF6C_Via2000s_Purchase,   "gfx/EMD_JF6C_Via2000s.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_Via2000s,   "gfx/EMD_JF6C_Via2000s.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_Via2000s, 51824) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_AmtrakPHIII;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_Via2000s;
        purchase: spriteset_EMD_JF6C_Via2000s_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TransitSingleStripe
spriteset(spriteset_EMD_JF6C_TransitSingleStripe_Purchase,   "gfx/EMD_JF6C_TransitSingleStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TransitSingleStripe,   "gfx/EMD_JF6C_TransitSingleStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TransitSingleStripe, 51831) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TransitSingleStripe;
        purchase: spriteset_EMD_JF6C_TransitSingleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_MultiStripe
spriteset(spriteset_EMD_JF6C_MultiStripe_Purchase,   "gfx/EMD_JF6C_MultiStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_MultiStripe,   "gfx/EMD_JF6C_MultiStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_MultiStripe, 51832) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_MultiStripe;
        purchase: spriteset_EMD_JF6C_MultiStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TransitDoubleStripe
spriteset(spriteset_EMD_JF6C_TransitDoubleStripe_Purchase,   "gfx/EMD_JF6C_TransitDoubleStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TransitDoubleStripe,   "gfx/EMD_JF6C_TransitDoubleStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TransitDoubleStripe, 51833) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TransitDoubleStripe;
        purchase: spriteset_EMD_JF6C_TransitDoubleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_BodyStripe
spriteset(spriteset_EMD_JF6C_BodyStripe_Purchase,   "gfx/EMD_JF6C_BodyStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_BodyStripe,   "gfx/EMD_JF6C_BodyStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_BodyStripe, 51834) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_BodyStripe;
        purchase: spriteset_EMD_JF6C_BodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_BodyStripeBrightNose
spriteset(spriteset_EMD_JF6C_BodyStripeBrightNose_Purchase,   "gfx/EMD_JF6C_BodyStripeBrightNose.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_BodyStripeBrightNose,   "gfx/EMD_JF6C_BodyStripeBrightNose.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_BodyStripeBrightNose, 51835) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_BodyStripeBrightNose;
        purchase: spriteset_EMD_JF6C_BodyStripeBrightNose_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_GOStripe
spriteset(spriteset_EMD_JF6C_GOStripe_Purchase,   "gfx/EMD_JF6C_GOStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_GOStripe,   "gfx/EMD_JF6C_GOStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_GOStripe, 51837) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_GOStripe;
        purchase: spriteset_EMD_JF6C_GOStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_HighLowStripe
spriteset(spriteset_EMD_JF6C_HighLowStripe_Purchase,   "gfx/EMD_JF6C_HighLowStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_HighLowStripe,   "gfx/EMD_JF6C_HighLowStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_HighLowStripe, 51838) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_HighLowStripe;
        purchase: spriteset_EMD_JF6C_HighLowStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TransitHazardNose
spriteset(spriteset_EMD_JF6C_TransitHazardNose_Purchase,   "gfx/EMD_JF6C_TransitHazardNose.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TransitHazardNose,   "gfx/EMD_JF6C_TransitHazardNose.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TransitHazardNose, 51839) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TransitHazardNose;
        purchase: spriteset_EMD_JF6C_TransitHazardNose_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TransitTwoToneHazardNose
spriteset(spriteset_EMD_JF6C_TransitTwoToneHazardNose_Purchase,   "gfx/EMD_JF6C_TransitTwoToneHazardNose.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TransitTwoToneHazardNose,   "gfx/EMD_JF6C_TransitTwoToneHazardNose.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TransitTwoToneHazardNose, 51840) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TransitTwoToneHazardNose;
        purchase: spriteset_EMD_JF6C_TransitTwoToneHazardNose_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TransitColouredCab
spriteset(spriteset_EMD_JF6C_TransitColouredCab_Purchase,   "gfx/EMD_JF6C_TransitColouredCab.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TransitColouredCab,   "gfx/EMD_JF6C_TransitColouredCab.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TransitColouredCab, 51841) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TransitColouredCab;
        purchase: spriteset_EMD_JF6C_TransitColouredCab_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_NJT
spriteset(spriteset_EMD_JF6C_NJT_Purchase,   "gfx/EMD_JF6C_NJT.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_NJT,   "gfx/EMD_JF6C_NJT.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_NJT, 51842) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_TransitSingleStripe;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_NJT;
        purchase: spriteset_EMD_JF6C_NJT_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_Basic
spriteset(spriteset_EMD_JF6C_Basic_Purchase,   "gfx/EMD_JF6C_Basic.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_Basic,   "gfx/EMD_JF6C_Basic.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_Basic, 51851) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_Basic;
        purchase: spriteset_EMD_JF6C_Basic_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_Wings
spriteset(spriteset_EMD_JF6C_Wings_Purchase,   "gfx/EMD_JF6C_Wings.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_Wings,   "gfx/EMD_JF6C_Wings.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_Wings, 51852) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_Wings;
        purchase: spriteset_EMD_JF6C_Wings_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_SingleStripe
spriteset(spriteset_EMD_JF6C_SingleStripe_Purchase,   "gfx/EMD_JF6C_SingleStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_SingleStripe,   "gfx/EMD_JF6C_SingleStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_SingleStripe, 51853) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_SingleStripe;
        purchase: spriteset_EMD_JF6C_SingleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_ThickStripe
spriteset(spriteset_EMD_JF6C_ThickStripe_Purchase,   "gfx/EMD_JF6C_ThickStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_ThickStripe,   "gfx/EMD_JF6C_ThickStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_ThickStripe, 51854) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_ThickStripe;
        purchase: spriteset_EMD_JF6C_ThickStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_DoubleStripe
spriteset(spriteset_EMD_JF6C_DoubleStripe_Purchase,   "gfx/EMD_JF6C_DoubleStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_DoubleStripe,   "gfx/EMD_JF6C_DoubleStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_DoubleStripe, 51855) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_DoubleStripe;
        purchase: spriteset_EMD_JF6C_DoubleStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_BodyStripeDown
spriteset(spriteset_EMD_JF6C_BodyStripeDown_Purchase,   "gfx/EMD_JF6C_BodyStripeDown.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_BodyStripeDown,   "gfx/EMD_JF6C_BodyStripeDown.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_BodyStripeDown, 51856) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_BodyStripeDown;
        purchase: spriteset_EMD_JF6C_BodyStripeDown_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_NoseSwoosh
spriteset(spriteset_EMD_JF6C_NoseSwoosh_Purchase,   "gfx/EMD_JF6C_NoseSwoosh.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_NoseSwoosh,   "gfx/EMD_JF6C_NoseSwoosh.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_NoseSwoosh, 51857) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_NoseSwoosh;
        purchase: spriteset_EMD_JF6C_NoseSwoosh_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_LowBodyStripe
spriteset(spriteset_EMD_JF6C_LowBodyStripe_Purchase,   "gfx/EMD_JF6C_LowBodyStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_LowBodyStripe,   "gfx/EMD_JF6C_LowBodyStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_LowBodyStripe, 51858) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_LowBodyStripe;
        purchase: spriteset_EMD_JF6C_LowBodyStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_EvenLowerStripe
spriteset(spriteset_EMD_JF6C_EvenLowerStripe_Purchase,   "gfx/EMD_JF6C_EvenLowerStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_EvenLowerStripe,   "gfx/EMD_JF6C_EvenLowerStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_EvenLowerStripe, 51859) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_EvenLowerStripe;
        purchase: spriteset_EMD_JF6C_EvenLowerStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_StripeandNose
spriteset(spriteset_EMD_JF6C_StripeandNose_Purchase,   "gfx/EMD_JF6C_StripeandNose.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_StripeandNose,   "gfx/EMD_JF6C_StripeandNose.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_StripeandNose, 51860) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_StripeandNose;
        purchase: spriteset_EMD_JF6C_StripeandNose_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_HazardNose
spriteset(spriteset_EMD_JF6C_HazardNose_Purchase,   "gfx/EMD_JF6C_HazardNose.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_HazardNose,   "gfx/EMD_JF6C_HazardNose.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_HazardNose, 51862) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_HazardNose;
        purchase: spriteset_EMD_JF6C_HazardNose_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_HazardandBlack
spriteset(spriteset_EMD_JF6C_HazardandBlack_Purchase,   "gfx/EMD_JF6C_HazardandBlack.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_HazardandBlack,   "gfx/EMD_JF6C_HazardandBlack.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_HazardandBlack, 51863) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_HazardandBlack;
        purchase: spriteset_EMD_JF6C_HazardandBlack_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_BloodyNose
spriteset(spriteset_EMD_JF6C_BloodyNose_Purchase,   "gfx/EMD_JF6C_BloodyNose.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_BloodyNose,   "gfx/EMD_JF6C_BloodyNose.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_BloodyNose, 51864) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_BloodyNose;
        purchase: spriteset_EMD_JF6C_BloodyNose_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TwoTone
spriteset(spriteset_EMD_JF6C_TwoTone_Purchase,   "gfx/EMD_JF6C_TwoTone.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TwoTone,   "gfx/EMD_JF6C_TwoTone.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TwoTone, 51865) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TwoTone;
        purchase: spriteset_EMD_JF6C_TwoTone_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_TwoToneClearCab
spriteset(spriteset_EMD_JF6C_TwoToneClearCab_Purchase,   "gfx/EMD_JF6C_TwoToneClearCab.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_TwoToneClearCab,   "gfx/EMD_JF6C_TwoToneClearCab.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_TwoToneClearCab, 51866) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_TwoToneClearCab;
        purchase: spriteset_EMD_JF6C_TwoToneClearCab_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_BigSkyBlue
spriteset(spriteset_EMD_JF6C_BigSkyBlue_Purchase,   "gfx/EMD_JF6C_BigSkyBlue.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_BigSkyBlue,   "gfx/EMD_JF6C_BigSkyBlue.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_BigSkyBlue, 51867) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_BigSkyBlue;
        purchase: spriteset_EMD_JF6C_BigSkyBlue_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_BNSF
spriteset(spriteset_EMD_JF6C_BNSF_Purchase,   "gfx/EMD_JF6C_BNSF.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_BNSF,   "gfx/EMD_JF6C_BNSF.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_BNSF, 51868) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_BNSF;
        purchase: spriteset_EMD_JF6C_BNSF_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_Warbonnet
spriteset(spriteset_EMD_JF6C_Warbonnet_Purchase,   "gfx/EMD_JF6C_Warbonnet.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_Warbonnet,   "gfx/EMD_JF6C_Warbonnet.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_Warbonnet, 51869) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_Warbonnet;
        purchase: spriteset_EMD_JF6C_Warbonnet_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_Bonnet
spriteset(spriteset_EMD_JF6C_Bonnet_Purchase,   "gfx/EMD_JF6C_Bonnet.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_Bonnet,   "gfx/EMD_JF6C_Bonnet.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_Bonnet, 51870) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_Bonnet;
        purchase: spriteset_EMD_JF6C_Bonnet_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_GrayandStripe
spriteset(spriteset_EMD_JF6C_GrayandStripe_Purchase,   "gfx/EMD_JF6C_GrayandStripe.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_GrayandStripe,   "gfx/EMD_JF6C_GrayandStripe.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_GrayandStripe, 51871) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_GrayandStripe;
        purchase: spriteset_EMD_JF6C_GrayandStripe_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}

//EMD_JF6C_CN
spriteset(spriteset_EMD_JF6C_CN_Purchase,   "gfx/EMD_JF6C_CN.png") {template_purchase(7, 21)}
spriteset(spriteset_EMD_JF6C_CN,   "gfx/EMD_JF6C_CN.png") {template_8(7, 39)} // <- Define a wagon, in this case the cab

item(FEAT_TRAINS, Item_EMD_JF6C_CN, 51872) {
    property {
        sprite_id:                        SPRITE_ID_NEW_TRAIN;
        refit_cost:                        0;
        climates_available:                ALL_CLIMATES;
        bitmask_vehicle_info:            0;
        misc_flags:                        bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_SPRITE_STACK); // <- Train Flag MU needed here

        track_type:                        ELRL;
        running_cost_base:                RUNNING_COST_ELECTRIC;
        engine_class:                     ENGINE_CLASS_ELECTRIC;
        ai_special_flag:                AI_FLAG_CARGO;
        dual_headed:                    0; // <- Double Headed, so cab on each end

        visual_effect_and_powered: VISUAL_EFFECT_ELECTRIC;

        name:                            string(STR_NAME_EMD_JF6C);
        introduction_date:                date(1988,1,1);
        vehicle_life:                     50;
        model_life:                        30;
        length:                            8;

        weight:                        180 ton;
        speed:                            85 mph;
        power:                            6000 hp;
        tractive_effort_coefficient:     0.7;
        cost_factor:                     20;
        running_cost_factor:             140;
		cargo_capacity:                  0;

        variant_group: Item_EMD_JF6C_Basic;
        extra_flags:  bitmask (VEHICLE_FLAG_DISABLE_NEW_VEHICLE_MESSAGE, VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_EXCLUSIVE_PREVIEW, VEHICLE_FLAG_SYNC_VARIANT_RELIABILITY);
    }
    graphics {
        default: spriteset_EMD_JF6C_CN;
        purchase: spriteset_EMD_JF6C_CN_Purchase;
        additional_text: string(STR_INFO_EMD_JF6C);
}
}